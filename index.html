<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Review</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- MathJax CDN for LaTeX rendering - Removed 'async' to ensure it loads before script execution -->
    <script type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Align to top for better scrolling on smaller screens */
            min-height: 100vh;
            padding: 20px;
            box-sizing: border-box;
        }

        .container {
            background-color: #ffffff; /* White background for the main content */
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); /* Soft shadow */
            padding: 30px;
            max-width: 800px; /* Max width for readability */
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .tabs-container {
            display: flex;
            overflow-x: auto; /* Enable horizontal scrolling */
            -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
            white-space: nowrap; /* Prevent tabs from wrapping */
            padding-bottom: 10px; /* Space for scrollbar */
            border-bottom: 2px solid #e2e8f0; /* Light border at the bottom of tabs */
        }

        .tab-button {
            flex: 0 0 auto; /* Prevent stretching, allow shrinking */
            padding: 10px 20px;
            margin-right: 10px; /* Space between tabs */
            border: none;
            background-color: #cbd5e1; /* Light gray for inactive tabs */
            color: #4a5568; /* Darker text for inactive tabs */
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap; /* Keep text on one line */
        }

        .tab-button.active {
            background-color: #3b82f6; /* Blue for active tab */
            color: #ffffff; /* White text for active tab */
            box-shadow: 0 4px 10px rgba(59, 130, 246, 0.3); /* Soft blue shadow */
        }

        .tab-button:hover:not(.active) {
            background-color: #a0aec0; /* Slightly darker gray on hover */
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Allow wrapping on small screens */
            gap: 10px;
        }

        .progress-bar-container {
            width: 100%;
            background-color: #e2e8f0; /* Light background for the bar */
            border-radius: 8px;
            height: 12px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-bar {
            height: 100%;
            width: 0%; /* Initial width */
            background-color: #10b981; /* Green progress */
            border-radius: 8px;
            transition: width 0.4s ease-in-out;
        }

        .question-area {
            background-color: #f7fafc; /* Very light background for question */
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            margin-bottom: 20px;
        }

        .answer-choice label {
            display: flex;
            align-items: center;
            background-color: #edf2f7; /* Lighter background for choices */
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.3s ease, border-color 0.3s ease;
            border: 2px solid transparent; /* Default transparent border */
        }

        /* Styles for correct/incorrect answers */
        .answer-choice label.correct {
            background-color: #d1fae5; /* Light green */
            border-color: #10b981; /* Green border */
        }

        .answer-choice label.incorrect {
            background-color: #fee2e2; /* Light red */
            border-color: #ef4444; /* Red border */
        }

        .answer-choice label.selected-correct {
            background-color: #a7f3d0; /* Slightly darker green for selected correct */
            border-color: #059669;
        }

        .answer-choice label.selected-incorrect {
            background-color: #fecaca; /* Slightly darker red for selected incorrect */
            border-color: #dc2626;
        }

        .answer-choice label:hover {
            background-color: #e2e8f0; /* Darker on hover */
        }

        .answer-choice input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.3); /* Slightly larger radio buttons */
            accent-color: #3b82f6; /* Blue accent color */
            pointer-events: auto; /* Allow clicks initially */
        }

        .answer-choice input[type="radio"]:disabled {
            pointer-events: none; /* Disable clicks after selection */
        }

        .explanation-text {
            background-color: #ecfdf5; /* Very light green for explanation */
            border-left: 4px solid #10b981; /* Green left border */
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            color: #065f46; /* Dark green text */
            font-style: italic;
            display: none; /* Hidden by default */
        }

        .next-button {
            background-color: #4c51bf; /* Indigo button */
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            transition: background-color 0.3s ease, transform 0.2s ease;
            width: 100%; /* Full width on mobile */
            max-width: 200px; /* Max width on desktop */
            align-self: flex-end; /* Align to the right */
            box-shadow: 0 4px 10px rgba(76, 81, 191, 0.3); /* Indigo shadow */
            opacity: 0.5; /* Disabled initially */
            pointer-events: none; /* Disabled initially */
        }

        .next-button.enabled {
            opacity: 1;
            pointer-events: auto;
        }

        .next-button:hover.enabled {
            background-color: #5a67d8; /* Lighter indigo on hover */
            transform: translateY(-2px); /* Slight lift effect */
        }

        .quiz-results {
            text-align: center;
            padding: 30px;
            background-color: #f0f4f8;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            margin-top: 20px;
        }

        .quiz-results h2 {
            font-size: 2.2em;
            color: #2d3748;
            margin-bottom: 15px;
        }

        .quiz-results p {
            font-size: 1.3em;
            color: #4a5568;
            margin-bottom: 25px;
        }

        .restart-button {
            background-color: #e53e3e; /* Red for restart */
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 700;
            transition: background-color 0.3s ease;
            box-shadow: 0 4px 10px rgba(229, 62, 62, 0.3);
        }

        .restart-button:hover {
            background-color: #c53030;
        }

        @media (min-width: 640px) {
            .next-button {
                width: auto; /* Auto width on larger screens */
            }
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="container">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-6">Final Review</h1>

        <!-- Tab Navigation -->
        <div id="tab-container" class="tabs-container mb-6">
            <!-- Tabs will be dynamically inserted here by JavaScript -->
        </div>

        <!-- Quiz UI -->
        <div id="quiz-ui" class="hidden">
            <div class="quiz-header">
                <span id="score-display" class="text-xl font-semibold text-gray-700">Score: 0</span>
                <span id="progress-counter" class="text-xl font-semibold text-gray-700">0 / 0</span>
            </div>
            <div class="progress-bar-container">
                <div id="progress-bar" class="progress-bar"></div>
            </div>

            <div class="question-area mt-6">
                <p id="question-text" class="text-2xl font-medium text-gray-900 mb-6"></p>
                <div id="answer-choices" class="flex flex-col gap-3">
                    <!-- Answer choices will be dynamically inserted here -->
                </div>
                <div id="explanation-text" class="explanation-text"></div>
            </div>

            <button id="next-button" class="next-button">Next</button>
        </div>

        <!-- Quiz Results -->
        <div id="quiz-results" class="quiz-results hidden">
            <h2 class="text-2xl font-bold text-gray-800">Quiz Completed!</h2>
            <p id="final-score" class="text-xl text-gray-700 mt-4">You scored 0 out of 0.</p>
            <button id="restart-button" class="restart-button">Restart Quiz</button>
        </div>
    </div>

    <script>
        // Data structure for all quiz questions
        const allQuestions = [
            {
                topic: "Operational Amplifiers",
                question: "What is an operational amplifier (op-amp) primarily described as?",
                choices: [
                    "A low-gain amplifier with high output impedance.",
                    "A very high gain differential amplifier with high input impedance and low output impedance.",
                    "A digital circuit used for basic logic operations.",
                    "A power supply regulator with current limiting."
                ],
                correctAnswerIndex: 1,
                explanation: "The document defines an op-amp as a very high gain differential amplifier characterized by high input impedance and low output impedance, making it suitable for various amplification and signal processing tasks."
            },
            {
                topic: "Operational Amplifiers",
                question: "Which of the following is NOT a typical use of an operational amplifier?",
                choices: [
                    "Providing voltage amplitude changes.",
                    "Oscillators and filter circuits.",
                    "Performing complex mathematical computations directly in analog.",
                    "Directly generating high-power AC electricity for homes."
                ],
                correctAnswerIndex: 3,
                explanation: "Op-amps are used for voltage changes, oscillators, filters, and mathematical operations. They are not designed for direct high-power AC generation for residential use."
            },
            {
                topic: "Operational Amplifiers",
                question: "In a basic op-amp, what happens to the output signal when the input is applied to the inverting (-) input?",
                choices: [
                    "The output retains its original phase.",
                    "The output is inverted in phase.",
                    "The output is zero.",
                    "The op-amp enters saturation."
                ],
                correctAnswerIndex: 1,
                explanation: "When a signal is applied to the inverting input, the op-amp produces an output that is opposite in polarity or phase compared to the input."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does 'ideal' mean when referring to the characteristics of an op-amp?",
                choices: [
                    "It means the op-amp is perfectly constructed with minimal component variations.",
                    "It refers to a theoretical reference model with no limitations or imperfections.",
                    "It indicates the op-amp has been optimized for specific real-world applications.",
                    "It describes an op-amp that operates flawlessly under all temperature conditions."
                ],
                correctAnswerIndex: 1,
                explanation: "An 'ideal' op-amp is a theoretical concept used as a perfect reference for learning and designing circuits, assuming no limitations or imperfections."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is the ideal open-loop gain of an op-amp?",
                choices: [
                    "Zero",
                    "Finite (e.g., 100,000)",
                    "Infinite (∞)",
                    "A value close to 1"
                ],
                correctAnswerIndex: 2,
                explanation: "An ideal op-amp is characterized by infinite open-loop gain, meaning it can amplify even the smallest input difference."
            },
            {
                topic: "Operational Amplifiers",
                question: "An ideal op-amp has an input impedance of:",
                choices: [
                    "Zero",
                    "Finite, very low",
                    "Infinite (∞)",
                    "A value dependent on the external circuit"
                ],
                correctAnswerIndex: 2,
                explanation: "An ideal op-amp has infinite input impedance, which prevents any current from flowing into its input terminals, thus avoiding loading effects on the input source."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is the ideal output impedance of an op-amp?",
                choices: [
                    "Infinite",
                    "Very high, but not infinite",
                    "Zero",
                    "A finite value between 100 Ω and 1 kΩ"
                ],
                correctAnswerIndex: 2,
                explanation: "An ideal op-amp has zero output impedance, allowing it to deliver maximum voltage to the connected load without any voltage drop across its internal resistance."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does a 'non-ideal' op-amp imply?",
                choices: [
                    "It is a faulty op-amp that needs replacement.",
                    "It signifies that the op-amp is not perfect and has practical limitations.",
                    "It refers to an op-amp used in highly specialized, non-standard applications.",
                    "It means the op-amp cannot be used for amplification."
                ],
                correctAnswerIndex: 1,
                explanation: "Non-ideal op-amps are real-world devices that have limitations and imperfections, affecting their performance compared to the theoretical ideal model."
            },
            {
                topic: "Operational Amplifiers",
                question: "Real op-amps have finite open-loop gain. What is a typical range for this gain?",
                choices: [
                    "1 to 100",
                    "1,000 to 10,000",
                    "100,000 to 10,000,000",
                    "Infinite"
                ],
                correctAnswerIndex: 2,
                explanation: "While ideal op-amps have infinite gain, real op-amps have very high but finite open-loop gain, typically ranging from 100,000 to 10,000,000."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is Input Offset Voltage in a non-ideal op-amp?",
                choices: [
                    "The maximum voltage the op-amp can output.",
                    "A small voltage needed between the inputs to make the output exactly zero.",
                    "The voltage required to power the op-amp.",
                    "The voltage drop across the input resistors."
                ],
                correctAnswerIndex: 1,
                explanation: "Input offset voltage is a characteristic of non-ideal op-amps, representing the small voltage difference required at the inputs to ensure the output is precisely zero."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is the significance of Input Bias Current in non-ideal op-amps?",
                choices: [
                    "It helps to regulate the power supply.",
                    "It is a small current that flows into the input pins, even with no signal, and can cause errors.",
                    "It is the maximum current the output can supply to a load.",
                    "It is used to calibrate the op-amp's gain."
                ],
                correctAnswerIndex: 1,
                explanation: "Input bias current is a non-ideal characteristic where a small current flows into the input terminals, potentially leading to voltage errors when interacting with external resistances."
            },
            {
                topic: "Operational Amplifiers",
                question: "Which characteristic describes the fastest rate an op-amp's output voltage can change?",
                choices: [
                    "Bandwidth",
                    "Open-Loop Gain",
                    "Slew Rate",
                    "Input Impedance"
                ],
                correctAnswerIndex: 2,
                explanation: "Slew rate is a key non-ideal characteristic indicating how quickly the op-amp's output voltage can change, which is crucial for handling fast or high-frequency signals accurately."
            },
            {
                topic: "Operational Amplifiers",
                question: "In an inverting amplifier circuit, the output voltage is:",
                choices: [
                    "In phase with the input and has a variable gain.",
                    "The opposite of the input (inverted) and has a fixed gain.",
                    "Always equal to the input voltage.",
                    "Independent of the input and feedback resistors."
                ],
                correctAnswerIndex: 1,
                explanation: "An inverting amplifier circuit amplifies the signal while simultaneously flipping its phase, and its gain is determined by the ratio of feedback and input resistors."
            },
            {
                topic: "Operational Amplifiers",
                question: "For a noninverting amplifier, how is the input signal related to the output signal?",
                choices: [
                    "The input signal is flipped, and the gain is fixed.",
                    "The input signal is boosted without flipping it.",
                    "The input signal is subtracted from the output.",
                    "The input signal determines the power supply."
                ],
                correctAnswerIndex: 1,
                explanation: "A noninverting amplifier amplifies the input signal without changing its phase, and the gain is controlled by external resistors."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is the primary function of a Summing Amplifier?",
                choices: [
                    "To invert the input signal.",
                    "To combine multiple input voltages into a single output voltage proportional to their algebraic sum.",
                    "To amplify a single input voltage.",
                    "To filter out high-frequency noise."
                ],
                correctAnswerIndex: 1,
                explanation: "A summing amplifier, also known as a voltage adder, is designed to combine several input voltages and produce an output that is proportional to their algebraic sum."
            },
            {
                topic: "Operational Amplifiers",
                question: "In a summing amplifier, what is the 'virtual earth' or 'virtual ground' at the inverting input?",
                choices: [
                    "A physical connection to the ground.",
                    "A point that is not truly connected to ground but maintains 0V, isolating inputs.",
                    "A high impedance node where voltage accumulates.",
                    "A point used for power supply connection."
                ],
                correctAnswerIndex: 1,
                explanation: "The 'virtual earth' or 'virtual ground' at the inverting input of a summing amplifier is a theoretical concept where the voltage remains at 0V, effectively isolating each input from the others."
            },
            {
                topic: "Operational Amplifiers",
                question: "What type of summing amplifier is created if the individual input resistors are NOT equal?",
                choices: [
                    "Unity Gain Summing Amplifier",
                    "Inverting Summing Amplifier",
                    "Scaling Summing Amplifier",
                    "Non-inverting Summing Amplifier"
                ],
                correctAnswerIndex: 2,
                explanation: "When the individual input resistors in a summing amplifier are not equal, it results in a scaling (or weighted) summing amplifier, which outputs a scaled sum of the input signals."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is the feedback element used in an Integrator Op-amp?",
                choices: [
                    "A resistor",
                    "An inductor",
                    "A capacitor",
                    "A diode"
                ],
                correctAnswerIndex: 2,
                explanation: "Unlike other amplifier configurations that use resistors for feedback, an Integrator Op-amp specifically utilizes a capacitor in its feedback loop to perform mathematical integration."
            },
            {
                topic: "Operational Amplifiers",
                question: "The magnitude of the output signal in an Op-amp Integrator is determined by:",
                choices: [
                    "The input resistor value only.",
                    "The duration of the input signal as the feedback capacitor charges/discharges.",
                    "The power supply voltage.",
                    "The temperature of the op-amp."
                ],
                correctAnswerIndex: 1,
                explanation: "The output magnitude of an op-amp integrator is directly related to how long an input voltage is present, as this influences the charging or discharging time of the feedback capacitor."
            },
            {
                topic: "Operational Amplifiers",
                question: "During the operation of an op-amp integrator, what happens to the capacitor's impedance as it charges?",
                choices: [
                    "It decreases, increasing the charging current.",
                    "It increases, reducing the charging current.",
                    "It remains constant.",
                    "It becomes zero."
                ],
                correctAnswerIndex: 1,
                explanation: "As the feedback capacitor in an integrator charges, its impedance (Xc) increases, which in turn causes the charging current to decrease over time."
            },
            {
                topic: "Operational Amplifiers",
                question: "What determines the rate at which the output voltage increases (rate of change) in an integrator op-amp?",
                choices: [
                    "Only the input voltage.",
                    "The op-amp's internal gain.",
                    "The RC time constant (value of the resistor and the capacitor).",
                    "The output load resistance."
                ],
                correctAnswerIndex: 2,
                explanation: "The RC time constant, formed by the input resistor and feedback capacitor, dictates how fast the output voltage of an integrator changes in response to the input signal."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does a larger RC time constant in an integrator op-amp imply?",
                choices: [
                    "Faster output voltage change.",
                    "Slower output voltage change.",
                    "Higher output current.",
                    "Lower input impedance."
                ],
                correctAnswerIndex: 1,
                explanation: "A larger RC time constant means that the capacitor will charge and discharge more slowly, resulting in a slower rate of change for the output voltage of the integrator."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does 'Gain' refer to in op-amp performance factors?",
                choices: [
                    "The total power consumed by the op-amp.",
                    "The ability of the op-amp to amplify the input signal, measured as the ratio of output to input voltage.",
                    "The speed at which the op-amp can switch between states.",
                    "The maximum input voltage the op-amp can handle."
                ],
                correctAnswerIndex: 1,
                explanation: "Gain quantifies how much an op-amp amplifies an input signal, defined as the ratio of its output voltage to its input voltage."
            },
            {
                topic: "Operational Amplifiers",
                question: "A wider bandwidth in an op-amp allows for:",
                choices: [
                    "Less power consumption.",
                    "Amplification of a broader range of frequencies.",
                    "Increased output impedance.",
                    "Reduced noise levels."
                ],
                correctAnswerIndex: 1,
                explanation: "Bandwidth describes the range of frequencies an op-amp can effectively amplify; a wider bandwidth enables it to process a broader spectrum of signals."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does the Gain-Bandwidth Product (GBP) indicate for an op-amp?",
                choices: [
                    "The maximum stable gain it can achieve.",
                    "The trade-off between gain and bandwidth, suggesting better performance in high-frequency applications if higher.",
                    "The minimum input voltage required for amplification.",
                    "The amount of noise generated by the op-amp."
                ],
                correctAnswerIndex: 1,
                explanation: "The Gain-Bandwidth Product (GBP) is a constant for a given op-amp that represents the inverse relationship between gain and bandwidth, with a higher GBP indicating better high-frequency performance."
            },
            {
                topic: "Operational Amplifiers",
                question: "Input Offset Voltage is defined as the DC voltage needed at the op-amp's input to make the output voltage:",
                choices: [
                    "Maximum positive.",
                    "Maximum negative.",
                    "Exactly zero.",
                    "Equal to the supply voltage."
                ],
                correctAnswerIndex: 2,
                explanation: "Input offset voltage is the DC voltage that must be applied to the op-amp's input terminals to drive its output voltage to precisely zero."
            },
            {
                topic: "Operational Amplifiers",
                question: "What is 'Noise' in the context of op-amp performance factors?",
                choices: [
                    "External interference picked up by the circuit.",
                    "Tiny unwanted signals added by the op-amp itself, affecting precision.",
                    "The audible sound produced by the op-amp during operation.",
                    "Fluctuations in the power supply voltage."
                ],
                correctAnswerIndex: 1,
                explanation: "Op-amps inherently generate tiny, unwanted internal signals, known as noise, which can degrade the quality and precision of the amplified signal."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does Common-Mode Rejection Ratio (CMRR) measure?",
                choices: [
                    "The op-amp's ability to amplify differential signals.",
                    "The op-amp's ability to reject common-mode signals (signals appearing on both inputs simultaneously).",
                    "The ratio of output voltage to input current.",
                    "The stability of the power supply."
                ],
                correctAnswerIndex: 1,
                explanation: "CMRR is a crucial metric that quantifies an op-amp's effectiveness in suppressing common-mode signals, which are undesirable signals present equally on both input terminals."
            },
            {
                topic: "Operational Amplifiers",
                question: "What does a higher Power Supply Rejection Ratio (PSRR) indicate for an op-amp?",
                choices: [
                    "It is more susceptible to power supply noise.",
                    "It helps maintain stability and reduces noise in the output signal by ignoring power supply changes.",
                    "It requires a more stable power supply to operate correctly.",
                    "It has a higher gain."
                ],
                correctAnswerIndex: 1,
                explanation: "A higher PSRR signifies that the op-amp is better at rejecting noise and variations from its power supply, contributing to a more stable and cleaner output signal."
            },
            {
                topic: "Operational Amplifiers",
                question: "Which of the following op-amp applications involves changing voltage amplitude and polarity, or creating filter circuits and oscillators?",
                choices: [
                    "Only audio amplification.",
                    "Specialized mathematical operations.",
                    "Typical uses like voltage amplitude changes, oscillators, and filter circuits.",
                    "Solely current-to-voltage conversion."
                ],
                correctAnswerIndex: 2,
                explanation: "Operational amplifiers are commonly used for a variety of tasks including altering voltage amplitude and polarity, and implementing oscillators and filter circuits, among other instrumentation applications."
            },
            // New questions for Feedback Circuits topic
            {
                topic: "Feedback Circuits",
                question: "What is the primary difference between negative feedback and positive feedback in a circuit?",
                choices: [
                    "Negative feedback increases voltage gain, while positive feedback decreases it.",
                    "Negative feedback generally stabilizes the system, while positive feedback can cause oscillation or saturation.",
                    "Negative feedback is only used in analog circuits, while positive feedback is only for digital circuits.",
                    "Positive feedback reduces noise, while negative feedback amplifies it."
                ],
                correctAnswerIndex: 1,
                explanation: "The document clearly states that negative feedback stabilizes and improves performance, while positive feedback destabilizes, leading to oscillation or saturation because the returned signal adds to the input."
            },
            {
                topic: "Feedback Circuits",
                question: "Which of the following is NOT an improvement obtained by using negative feedback?",
                choices: [
                    "Higher input impedance.",
                    "Decreased overall voltage gain.",
                    "Reduced noise.",
                    "More linear operation."
                ],
                correctAnswerIndex: 1,
                explanation: "While negative feedback offers many improvements, it specifically results in a *reduced* overall voltage gain, which is often a trade-off for the other benefits."
            },
            {
                topic: "Feedback Circuits",
                question: "In a block diagram of a feedback amplifier, what is the role of the mixer network?",
                choices: [
                    "To amplify the feedback signal.",
                    "To combine the input signal ($V_s$) with the feedback signal ($V_f$).",
                    "To filter out unwanted frequencies from the output signal.",
                    "To convert the output voltage to a current."
                ],
                correctAnswerIndex: 1,
                explanation: "The mixer network receives both the original input signal and the feedback signal, then combines them (usually by subtraction for negative feedback) to produce the amplifier's actual input."
            },
            {
                topic: "Feedback Circuits",
                question: "How is the input voltage ($V_i$) to the amplifier determined in a feedback system, according to the block diagram?",
                choices: [
                    "$V_i = V_s + V_o$",
                    "$V_i = V_f - V_s$",
                    "$V_i = V_s - V_f$",
                    "$V_i = A \\cdot V_s$"
                ],
                correctAnswerIndex: 2,
                explanation: "For negative feedback, the feedback signal ($V_f$) is subtracted from the input signal ($V_s$) to produce the actual input voltage ($V_i$) to the amplifier."
            },
            {
                topic: "Feedback Circuits",
                question: "Which term represents the feedback factor in a feedback amplifier, as shown in the block diagram?",
                choices: [
                    "A",
                    "$V_o$",
                    "$\\beta$",
                    "$V_s$"
                ],
                correctAnswerIndex: 2,
                explanation: "The Greek letter $\\beta$ (beta) is used to denote the feedback network, which determines how much of the output signal is fed back to the input."
            },
            {
                topic: "Feedback Circuits",
                question: "How many basic ways are there to connect a feedback signal in an amplifier circuit, according to the document?",
                choices: [
                    "Two",
                    "Three",
                    "Four",
                    "Five"
                ],
                correctAnswerIndex: 2,
                explanation: "The document explicitly states there are 'four basic ways of connecting the feedback signal: Voltage-series, Voltage-shunt, Current-series, and Current-shunt feedback.'"
            },
            {
                topic: "Feedback Circuits",
                question: "In Voltage-series feedback, what type of signal is fed back, and how is it connected to the input?",
                choices: [
                    "Current feedback, in parallel.",
                    "Voltage feedback, in series.",
                    "Current feedback, in series.",
                    "Voltage feedback, in parallel."
                ],
                correctAnswerIndex: 1,
                explanation: "Voltage-series feedback involves sampling the output voltage and feeding it back in series with the input signal."
            },
            {
                topic: "Feedback Circuits",
                question: "Which feedback connection type is characterized by the feedback current ($I_f$) being connected in shunt (parallel) with the input current ($I_s$)?",
                choices: [
                    "Voltage-series feedback",
                    "Voltage-shunt feedback",
                    "Current-series feedback",
                    "Current-shunt feedback"
                ],
                correctAnswerIndex: 3,
                explanation: "Current-shunt feedback specifically involves sampling the output current and mixing it in parallel with the input current."
            },
            {
                topic: "Feedback Circuits",
                question: "What is the general formula for the overall gain with feedback ($A_f$) when negative feedback is applied, given the gain without feedback (A) and the feedback factor ($\\beta$)?",
                choices: [
                    "$A_f = A \\cdot (1 + \\beta A)$",
                    "$A_f = A / (1 + \\beta A)$",
                    "$A_f = A - \\beta A$",
                    "$A_f = \\beta A$"
                ],
                correctAnswerIndex: 1,
                explanation: "The overall gain of a negative feedback amplifier is reduced by the factor $(1 + \\beta A)$, meaning the gain with feedback is A divided by this factor."
            },
            {
                topic: "Feedback Circuits",
                question: "What does 'Gain without Feedback' refer to in the context of feedback amplifiers?",
                choices: [
                    "The overall gain of the circuit after feedback is applied.",
                    "The feedback factor.",
                    "The open-loop gain of the amplifier stage.",
                    "The maximum possible gain an amplifier can achieve."
                ],
                correctAnswerIndex: 2,
                explanation: "Gain without Feedback (A) specifically refers to the inherent gain of the amplifier itself before any feedback loop is closed around it."
            },
            {
                topic: "Feedback Circuits",
                question: "In Voltage-series feedback, if the feedback signal ($V_f$) is zero, what does the voltage gain of the amplifier stage represent?",
                choices: [
                    "The closed-loop gain.",
                    "The feedback factor ($\\beta$).",
                    "The gain with feedback ($A_f$).",
                    "The gain without feedback (A)."
                ],
                correctAnswerIndex: 3,
                explanation: "When there is no feedback ($V_f = 0$), the amplifier operates in its open-loop configuration, and its gain is referred to as the gain without feedback (A)."
            },
            {
                topic: "Feedback Circuits",
                question: "For Voltage-series feedback, how does the input impedance ($Z_{in}$) typically change with feedback?",
                choices: [
                    "It decreases significantly.",
                    "It remains unchanged.",
                    "It increases by a factor of $(1 + \\beta A)$.",
                    "It becomes infinite."
                ],
                correctAnswerIndex: 2,
                explanation: "The table on 'INPUT AND OUTPUT IMPEDANCE WITH FEEDBACK' indicates that for Voltage-Series feedback, the input impedance is increased by the factor $(1 + \\beta A)$."
            },
            {
                topic: "Feedback Circuits",
                question: "For Voltage-series feedback, how does the output impedance ($Z_{out}$) typically change with feedback?",
                choices: [
                    "It increases.",
                    "It remains unchanged.",
                    "It decreases by a factor of $(1 + \\beta A)$.",
                    "It becomes zero."
                ],
                correctAnswerIndex: 2,
                explanation: "The table on 'INPUT AND OUTPUT IMPEDANCE WITH FEEDBACK' indicates that for Voltage-Series feedback, the output impedance is decreased by the factor $(1 + \\beta A)$."
            },
            {
                topic: "Feedback Circuits",
                question: "Which type of feedback connection decreases both the input and output impedance?",
                choices: [
                    "Voltage-series",
                    "Current-series",
                    "Voltage-shunt",
                    "Current-shunt"
                ],
                correctAnswerIndex: 2,
                explanation: "According to the table, Voltage-Shunt feedback causes both input and output impedances to decrease."
            },
            {
                topic: "Feedback Circuits",
                question: "In a Current-series feedback configuration, how does the input impedance change?",
                choices: [
                    "It decreases.",
                    "It increases.",
                    "It remains the same.",
                    "It is dependent on the output load."
                ],
                correctAnswerIndex: 1,
                explanation: "The table shows that for Current-series feedback, the input impedance is increased."
            },
            {
                topic: "Feedback Circuits",
                question: "What is the effect of Current-shunt feedback on the input impedance?",
                choices: [
                    "It increases.",
                    "It decreases.",
                    "It remains unchanged.",
                    "It becomes infinite."
                ],
                correctAnswerIndex: 1,
                explanation: "The table indicates that Current-shunt feedback results in a decreased input impedance."
            },
            {
                topic: "Feedback Circuits",
                question: "What is the primary reason an amplifier might 'break into oscillations' at high frequencies?",
                choices: [
                    "The gain becomes too low.",
                    "The phase shift changes, leading to positive feedback.",
                    "The input impedance becomes too high.",
                    "The power supply voltage fluctuates."
                ],
                correctAnswerIndex: 1,
                explanation: "The document explains that if, as frequency increases, the phase shift changes such that some of the feedback signal adds to the input signal (positive feedback), oscillation can occur."
            },
            {
                topic: "Feedback Circuits",
                question: "Why is it important for a feedback amplifier to be stable at all frequencies, not just the range of interest?",
                choices: [
                    "To maximize the amplifier's gain.",
                    "To prevent any transient disturbance from causing oscillations.",
                    "To reduce the overall power consumption.",
                    "To ensure a constant output impedance."
                ],
                correctAnswerIndex: 1,
                explanation: "Proper feedback-amplifier design requires stability across all frequencies to avoid unexpected oscillations triggered by transient disturbances, which would render the amplifier useless."
            },
            {
                topic: "Feedback Circuits",
                question: "What are the two determining factors in judging the stability of a feedback amplifier as a function of frequency?",
                choices: [
                    "Input impedance and output impedance.",
                    "Power supply voltage and current consumption.",
                    "The $\\beta A$ product (loop gain) and the phase shift between input and output.",
                    "The size of the amplifier and the type of transistors used."
                ],
                correctAnswerIndex: 2,
                explanation: "The document states that the $\\beta A$ product and the phase shift are the determining factors for judging amplifier stability."
            },
            {
                topic: "Feedback Circuits",
                question: "Which method is commonly used to investigate the stability of a feedback amplifier?",
                choices: [
                    "Bode Plot method.",
                    "Ohm's Law method.",
                    "Kirchhoff's Law method.",
                    "Nyquist method."
                ],
                correctAnswerIndex: 3,
                explanation: "The Nyquist method is highlighted as one of the most popular techniques for investigating the stability of feedback amplifiers."
            },
            {
                topic: "Feedback Circuits",
                question: "What does a Nyquist diagram translate into a plot?",
                choices: [
                    "Voltage and current as a function of time.",
                    "Gain and phase shift as a function of frequency on a complex plane.",
                    "Input impedance against output impedance.",
                    "Power consumption versus temperature."
                ],
                correctAnswerIndex: 1,
                explanation: "A Nyquist diagram combines gain versus frequency and phase shift versus frequency into a single plot on a complex plane."
            },
            {
                topic: "Feedback Circuits",
                question: "What does encircling the -1 point on a Nyquist plot signify for a feedback amplifier?",
                choices: [
                    "The amplifier is stable.",
                    "The amplifier is unstable and will oscillate.",
                    "The amplifier has unity gain.",
                    "The amplifier has zero phase shift."
                ],
                correctAnswerIndex: 1,
                explanation: "The Nyquist criterion states that an amplifier is unstable if the Nyquist curve encloses (encircles) the –1 point, meaning the loop gain is greater than 1 at a 180° phase shift, causing oscillation."
            },
            {
                topic: "Feedback Circuits",
                question: "According to the Nyquist criterion, when is a feedback amplifier stable?",
                choices: [
                    "If the Nyquist curve passes through the -1 point.",
                    "If the Nyquist curve encloses the -1 point.",
                    "If the Nyquist curve does NOT enclose the -1 point.",
                    "If the loop gain ($\\beta A$) is exactly 1 at all frequencies."
                ],
                correctAnswerIndex: 2,
                explanation: "The criterion explicitly states that an amplifier is stable if the Nyquist curve does not encircle the –1 point."
            },
            {
                topic: "Feedback Circuits",
                question: "In the context of Nyquist plots, what does it mean if the loop gain ($\\beta A$) is greater than 1 at a phase shift of 180°?",
                choices: [
                    "The amplifier is perfectly stable.",
                    "The feedback signal is out of phase with the input.",
                    "Oscillation occurs due to positive feedback.",
                    "The amplifier's bandwidth is maximized."
                ],
                correctAnswerIndex: 2,
                explanation: "Encircling the -1 point means that at 180° phase shift, the loop gain is greater than 1, leading to positive feedback and resulting in oscillation."
            },
            {
                topic: "Feedback Circuits",
                question: "What is the purpose of 'Gain Margin' and 'Phase Margin' in feedback amplifier analysis?",
                choices: [
                    "To determine the amplifier's maximum output power.",
                    "To indicate how close to instability the amplifier is.",
                    "To calculate the amplifier's operating temperature.",
                    "To measure the distortion introduced by the amplifier."
                ],
                correctAnswerIndex: 1,
                explanation: "Gain and Phase Margins are metrics used to quantify the 'distance' of a stable amplifier from the unstable region, providing an indication of its relative stability."
            },
            {
                topic: "Feedback Circuits",
                question: "If a feedback amplifier has a loop gain ($\\beta A$) of 0.95 at a phase angle of 180°, how stable is it compared to an amplifier with $\\beta A = 0.7$ at the same phase angle?",
                choices: [
                    "It is more stable.",
                    "It is less stable (closer to instability).",
                    "It has the same stability.",
                    "Its stability cannot be determined from this information."
                ],
                correctAnswerIndex: 1,
                explanation: "While both values indicate stability (less than unity gain at 180°), a $\\beta A$ of 0.95 is closer to 1, meaning it is less stable and has a smaller gain margin compared to 0.7."
            },
            {
                topic: "Feedback Circuits",
                question: "What is the concept of 'Positive feedback' often associated with in terms of practical applications?",
                choices: [
                    "Signal amplification.",
                    "Stabilization of systems.",
                    "Oscillator circuits.",
                    "Noise reduction."
                ],
                correctAnswerIndex: 2,
                explanation: "The document explicitly states that the use of positive feedback, fulfilling the Barkhausen criterion, results in operation as an oscillator circuit."
            },
            {
                topic: "Feedback Circuits",
                question: "In the example of a microphone near a loudspeaker, what type of feedback causes the high-pitched noise?",
                choices: [
                    "Negative feedback.",
                    "Current feedback.",
                    "Positive feedback.",
                    "No feedback."
                ],
                correctAnswerIndex: 2,
                explanation: "This scenario is used as a common example of positive feedback, where the microphone picks up sound from the speaker, feeds it back to the amplifier, and creates a self-reinforcing loop that leads to oscillation (high-pitched noise)."
            },
            {
                topic: "Feedback Circuits",
                question: "According to Barkhausen criterion, what are the requirements for a feedback amplifier to operate as an oscillator circuit?",
                choices: [
                    "Unity loop gain and 90° phase shift.",
                    "Loop gain less than unity and zero phase shift.",
                    "Unity loop gain and zero phase shift around the feedback loop.",
                    "Infinite loop gain and 180° phase shift."
                ],
                correctAnswerIndex: 2,
                explanation: "The document states that positive feedback resulting in 'unity loop gain and zero phase shift around the feedback loop' are the requirements according to Barkhausen criterion for oscillation."
            },
            {
                topic: "Feedback Circuits",
                question: "What is an oscillator technically known as, based on the definition provided?",
                choices: [
                    "A stable device.",
                    "An astable device.",
                    "A monostable device.",
                    "A bistable device."
                ],
                correctAnswerIndex: 1,
                explanation: "An oscillator is technically known as an astable device because it has 'no stable output state (no equilibrium whatsoever)' and continuously produces an alternating or pulsing output."
            },
            // New questions for Oscillation Operation topic
            {
                topic: "Oscillation Operation",
                question: "What is the defining characteristic of an oscillator?",
                choices: [
                    "It requires a continuous external input to generate an output.",
                    "It generates a continuous output signal without external input.",
                    "It primarily uses negative feedback for stability.",
                    "It only produces square waves."
                ],
                correctAnswerIndex: 1,
                explanation: "Oscillators are described as 'self-sustained' circuits that produce a continuous output signal, unlike amplifiers which require an external input."
            },
            {
                topic: "Oscillation Operation",
                question: "What type of feedback is essential for oscillator operation?",
                choices: [
                    "Negative feedback.",
                    "Positive feedback.",
                    "Current feedback.",
                    "No feedback."
                ],
                correctAnswerIndex: 1,
                explanation: "Oscillators work by using positive feedback, where a portion of the output signal is fed back to the input in a way that reinforces the original signal, leading to sustained oscillations."
            },
            {
                topic: "Oscillation Operation",
                question: "According to the Barkhausen Criterion, what must the loop gain be for sustained oscillation?",
                choices: [
                    "Less than 1 ($|A\\beta|<1$)",
                    "Equal to or greater than 1 ($|A\\beta|\\ge1$)",
                    "Exactly 0",
                    "Exactly 10"
                ],
                correctAnswerIndex: 1,
                explanation: "The first condition of the Barkhausen Criterion states that the magnitude of the loop gain (product of amplifier gain A and feedback factor $\\beta$) must be equal to or greater than 1."
            },
            {
                topic: "Oscillation Operation",
                question: "What must be the total phase shift around the loop for sustained oscillation, according to the Barkhausen Criterion?",
                choices: [
                    "90°",
                    "180°",
                    "270°",
                    "0° or a multiple of 360°"
                ],
                correctAnswerIndex: 3,
                explanation: "The second condition of the Barkhausen Criterion requires the total phase shift around the feedback loop to be 0° or a multiple of 360° for positive feedback and sustained oscillation."
            },
            {
                topic: "Oscillation Operation",
                question: "What happens if the loop gain ($A\\beta$) is greater than 1 in an oscillator circuit, even with initial noise?",
                choices: [
                    "The oscillation will quickly die out.",
                    "The noise will be filtered out, and no oscillation will occur.",
                    "The small noise gets amplified repeatedly, leading to steady-state oscillation.",
                    "The circuit will become unstable but will not oscillate."
                ],
                correctAnswerIndex: 2,
                explanation: "If $|A\\beta| > 1$, even a small initial noise voltage is repeatedly amplified, building up until limited by circuit saturation, resulting in steady-state oscillation."
            },
            {
                topic: "Oscillation Operation",
                question: "What is the formula for the overall gain with feedback ($A_f$) in a general feedback amplifier?",
                choices: [
                    "$A_f = A \\cdot (1 + A\\beta)$",
                    "$A_f = A / (1 - A\\beta)$",
                    "$A_f = A + A\\beta$",
                    "$A_f = A \\cdot (A\\beta - 1)$"
                ],
                correctAnswerIndex: 1,
                explanation: "This is the basic feedback amplifier formula, where A is the open-loop gain and $\\beta$ is the feedback factor. For positive feedback, the denominator becomes $1 - A\\beta$."
            },
            {
                topic: "Oscillation Operation",
                question: "What is implied if the denominator $(1 - A\\beta)$ in the feedback gain formula becomes 0?",
                choices: [
                    "The overall gain with feedback ($A_f$) becomes 0.",
                    "The overall gain with feedback ($A_f$) becomes infinite, implying oscillation.",
                    "The circuit acts as a filter.",
                    "The circuit becomes perfectly stable."
                ],
                correctAnswerIndex: 1,
                explanation: "If $A\\beta = 1$, the denominator is zero, making $A_f = \\infty$. This means even a tiny signal (like noise) can produce a large output, leading to oscillation."
            },
            {
                topic: "Oscillation Operation",
                question: "A phase-shift oscillator primarily generates what type of waveform?",
                choices: [
                    "Square wave",
                    "Triangular wave",
                    "Sinusoidal (sine wave)",
                    "Sawtooth wave"
                ],
                correctAnswerIndex: 2,
                explanation: "Phase-shift oscillators are specifically designed electronic circuits that generate a sinusoidal (sine wave) output."
            },
            {
                topic: "Oscillation Operation",
                question: "What is the crucial component of the feedback network in a phase-shift oscillator that shifts the phase by 180 degrees?",
                choices: [
                    "Inductors only.",
                    "Resistors and capacitors arranged in a ladder configuration.",
                    "Diodes and transistors.",
                    "Transformers."
                ],
                correctAnswerIndex: 1,
                explanation: "The feedback network in a phase-shift oscillator consists of multiple RC (resistor-capacitor) stages, typically three, which collectively provide the necessary 180-degree phase shift."
            },
            {
                topic: "Oscillation Operation",
                question: "In a phase-shift oscillator, what is the total phase shift around the loop required for sustained oscillations, considering an inverting amplifier?",
                choices: [
                    "90 degrees",
                    "180 degrees",
                    "270 degrees",
                    "360 degrees (or 0 degrees)"
                ],
                correctAnswerIndex: 3,
                explanation: "The 180-degree phase shift from the RC network combined with the inherent 180-degree phase inversion of an inverting amplifier results in a total phase shift of 360 degrees (or 0 degrees), fulfilling the Barkhausen criterion."
            },
            {
                topic: "Oscillation Operation",
                question: "What is the minimum gain requirement (A) for a basic phase-shift oscillator to sustain oscillations?",
                choices: [
                    "$A > 10$",
                    "$A > 20$",
                    "$A > 29$",
                    "$A > 360$"
                ],
                correctAnswerIndex: 2,
                explanation: "The formula for a phase-shift oscillator often includes the condition that the amplifier's gain (A) must be greater than 29 to compensate for the attenuation of the RC phase-shift network."
            },
            {
                topic: "Oscillation Operation",
                question: "What are the active components used in a FET Phase-Shift Oscillator?",
                choices: [
                    "Bipolar Junction Transistors (BJTs)",
                    "Operational Amplifiers (Op-amps)",
                    "Field-Effect Transistors (FETs)",
                    "Diodes"
                ],
                correctAnswerIndex: 2,
                explanation: "As the name suggests, a FET Phase-Shift Oscillator uses a Field-Effect Transistor as its active amplifying element."
            },
            {
                topic: "Oscillation Operation",
                question: "In a FET Phase-Shift Oscillator, how many identical RC stages typically form the feedback network to provide a 180-degree phase shift?",
                choices: [
                    "One",
                    "Two",
                    "Three",
                    "Four"
                ],
                correctAnswerIndex: 2,
                explanation: "Similar to general phase-shift oscillators, FET phase-shift oscillators typically use three cascaded RC stages to achieve the required 180-degree phase shift in the feedback path."
            },
            {
                topic: "Oscillation Operation",
                question: "What parameter is crucial for calculating the magnitude of gain ($|A|$) for the FET amplifier in a FET phase-shift oscillator, as given by the formula $|A| = g_m R_L$?",
                choices: [
                    "Capacitance (C)",
                    "Transconductance ($g_m$)",
                    "Input Impedance ($Z_{in}$)",
                    "Frequency (f)"
                ],
                correctAnswerIndex: 1,
                explanation: "The formula $|A| = g_m R_L$ directly uses transconductance ($g_m$), which represents how effectively the FET converts input voltage to output current, a key factor in its gain."
            },
            {
                topic: "Oscillation Operation",
                question: "What is the primary advantage of using voltage-shunt feedback in a single transistor phase-shift oscillator (BJT)?",
                choices: [
                    "It simplifies the biasing circuit.",
                    "It allows for higher input resistance.",
                    "It is more suitable when the feedback network loads the input appreciably.",
                    "It increases the oscillation frequency."
                ],
                correctAnswerIndex: 2,
                explanation: "The document states that if a single transistor stage is desired, voltage-shunt feedback is more suitable because the feedback network is loaded appreciably by the relatively low input resistance ($h_{ie}$) of the transistor."
            },
            {
                topic: "Oscillation Operation",
                question: "How does an IC (Integrated Circuit) Phase-Shift Oscillator typically differ from transistor-based versions in terms of its active element?",
                choices: [
                    "It uses a single resistor.",
                    "It uses an operational amplifier (op-amp).",
                    "It uses an inductor.",
                    "It uses multiple discrete transistors."
                ],
                correctAnswerIndex: 1,
                explanation: "IC Phase-Shift Oscillators commonly utilize an operational amplifier (op-amp) as the active amplifying element due to its high gain and input impedance."
            },
            {
                topic: "Oscillation Operation",
                question: "What is a significant advantage of using an op-amp in an IC Phase-Shift Oscillator, related to loading effects?",
                choices: [
                    "It makes the circuit smaller.",
                    "It reduces loading effects on the RC network due to high input impedance.",
                    "It increases the power consumption.",
                    "It simplifies the external power supply."
                ],
                correctAnswerIndex: 1,
                explanation: "Op-amps have very high input impedance, which minimizes the loading effect on the RC phase-shift network, allowing the network to function more ideally."
            },
            {
                topic: "Oscillation Operation",
                question: "Which type of oscillator uses a bridge circuit for frequency determination and is often viewed as a band-pass filter providing positive feedback?",
                choices: [
                    "Phase-Shift Oscillator",
                    "Colpitts Oscillator",
                    "Hartley Oscillator",
                    "Wien Bridge Oscillator"
                ],
                correctAnswerIndex: 3,
                explanation: "The Wien Bridge Oscillator specifically uses a Wien bridge circuit in its positive feedback loop and can be seen as a band-pass filter providing feedback to an amplifier."
            },
            {
                topic: "Oscillation Operation",
                question: "In a Wien Bridge Oscillator, what components typically form the frequency-selective feedback network?",
                choices: [
                    "Only inductors.",
                    "A series RC circuit (high-pass) and a parallel RC circuit (low-pass).",
                    "Only capacitors.",
                    "Resistors in a voltage divider configuration."
                ],
                correctAnswerIndex: 1,
                explanation: "The Wien Bridge Oscillator's feedback loop consists of a series $R_1C_1$ circuit (high-pass) and a parallel $R_2C_2$ circuit (low-pass), forming a frequency-dependent band-pass filter."
            },
            {
                topic: "Oscillation Operation",
                question: "If, in a Wien Bridge Oscillator, the values are $R_1 = R_2 = R$ and $C_1 = C_2 = C$, what is the simplified formula for the oscillator frequency ($f_o$)?",
                choices: [
                    "$f_o = 1 / (2\\pi RC)$",
                    "$f_o = 1 / (2\\pi \\sqrt{LC})$",
                    "$f_o = 1 / (RC)$",
                    "$f_o = 2\\pi RC$"
                ],
                correctAnswerIndex: 0,
                explanation: "When $R_1 = R_2 = R$ and $C_1 = C_2 = C$, the general formula for the Wien Bridge oscillator frequency simplifies to $f_o = 1 / (2\\pi RC)$."
            },
            {
                topic: "Oscillation Operation",
                question: "For a Wien Bridge Oscillator with $R_1=R_2=R$ and $C_1=C_2=C$, what ratio of $R_3$ to $R_4$ is required for oscillation to take place?",
                choices: [
                    "$R_3/R_4 < 1$",
                    "$R_3/R_4 = 1$",
                    "$R_3/R_4 > 2$",
                    "$R_3/R_4 < 0.5$"
                ],
                correctAnswerIndex: 2,
                explanation: "To ensure sufficient loop gain for oscillation in a simplified Wien Bridge circuit, the ratio of $R_3$ to $R_4$ must be greater than 2."
            },
            {
                topic: "Oscillation Operation",
                question: "What is the key idea behind Tuned-Input, Tuned-Output Oscillator Circuits?",
                choices: [
                    "They use only resistive components to determine frequency.",
                    "Their input and output sections are 'tuned' to control the overall oscillation frequency.",
                    "They only produce square wave outputs.",
                    "They operate without any feedback."
                ],
                correctAnswerIndex: 1,
                explanation: "The document explains that in these circuits, the input and output sections are specifically designed to be 'tuned' to a particular frequency, thereby controlling the oscillation."
            },
            {
                topic: "Oscillation Operation",
                question: "According to the reactance element table, which oscillator type uses two capacitors ($X_1, X_2$) and one inductor ($X_3$)?",
                choices: [
                    "Hartley oscillator",
                    "Colpitts oscillator",
                    "Tuned input, tuned output",
                    "Phase-shift oscillator"
                ],
                correctAnswerIndex: 1,
                explanation: "The table clearly indicates that the Colpitts oscillator configuration uses Capacitors (C) for $X_1$ and $X_2$, and an Inductor (L) for $X_3$."
            },
            {
                topic: "Oscillation Operation",
                question: "Which oscillator type uses two inductors ($X_1, X_2$) and one capacitor ($X_3$)?",
                choices: [
                    "Colpitts oscillator",
                    "Hartley oscillator",
                    "Wien Bridge oscillator",
                    "UJT oscillator"
                ],
                correctAnswerIndex: 1,
                explanation: "The table specifies that the Hartley oscillator configuration uses Inductors (L) for $X_1$ and $X_2$, and a Capacitor (C) for $X_3$."
            },
            {
                topic: "Oscillation Operation",
                question: "What is the primary advantage of using a crystal oscillator compared to other types?",
                choices: [
                    "Simpler circuit design.",
                    "Wider range of operating frequencies.",
                    "Highly stable and accurate frequency output.",
                    "Lower power consumption."
                ],
                correctAnswerIndex: 2,
                explanation: "Crystal oscillators are specifically noted for their 'excellent frequency stability and resistance to environmental changes,' making them ideal for precise timing applications."
            },
            {
                topic: "Oscillation Operation",
                question: "What property of a quartz crystal is utilized in crystal oscillators to produce a highly stable frequency?",
                choices: [
                    "The Hall effect.",
                    "The thermoelectric effect.",
                    "The piezoelectric effect.",
                    "The photoelectric effect."
                ],
                correctAnswerIndex: 2,
                explanation: "The piezoelectric effect is the property of a crystal (like quartz) where mechanical stress produces an electrical potential, and vice versa, allowing it to vibrate at a precise frequency when voltage is applied."
            },
            {
                topic: "Oscillation Operation",
                question: "In the electrical equivalent circuit of a quartz crystal, what does the shunt capacitance ($C_M$) represent?",
                choices: [
                    "The inductance of the crystal.",
                    "The resistance due to internal friction.",
                    "The capacitance due to mechanical mounting of the crystal.",
                    "The resonant frequency of the crystal."
                ],
                correctAnswerIndex: 2,
                explanation: "The document explicitly states that $C_M$ represents the capacitance resulting from the physical mounting of the crystal."
            },
            {
                topic: "Oscillation Operation",
                question: "What does a very high Q (quality factor) of a crystal indicate?",
                choices: [
                    "High power consumption.",
                    "Significant crystal losses.",
                    "Excellent frequency selectivity and low energy loss.",
                    "Low resonant frequency."
                ],
                correctAnswerIndex: 2,
                explanation: "High Q values (typically 20,000 to $10^6$) for crystals signify very low internal losses, leading to highly selective resonance and stable oscillation."
            },
            {
                topic: "Oscillation Operation",
                question: "What type of waveform is typically generated by a Unijunction Transistor (UJT) relaxation oscillator at its emitter?",
                choices: [
                    "Sinusoidal wave.",
                    "Square wave.",
                    "Sawtooth voltage waveform.",
                    "Random noise."
                ],
                correctAnswerIndex: 2,
                explanation: "The document describes the signal at the emitter of a UJT oscillator as a 'sawtooth voltage waveform'."
            },
            {
                topic: "Oscillation Operation",
                question: "In a UJT oscillator, what happens when the emitter voltage ($V_E$) reaches the peak point voltage ($V_P$)?",
                choices: [
                    "The UJT turns OFF, and the capacitor starts charging.",
                    "The UJT turns ON, causing the capacitor to discharge rapidly.",
                    "The oscillation stops.",
                    "The frequency of oscillation increases significantly."
                ],
                correctAnswerIndex: 1,
                explanation: "When the emitter voltage reaches $V_P$, the UJT becomes conductive, which allows the timing capacitor ($C_T$) to discharge quickly, initiating the next cycle of oscillation."
            },
            // Active Filters questions
            {
                topic: "Active Filters",
                question: "What is the primary function of a filter circuit?",
                choices: [
                    "To amplify all frequencies equally.",
                    "To convert AC signals to DC signals.",
                    "To pass certain frequencies and attenuate or reject all other frequencies.",
                    "To generate a continuous output signal."
                ],
                correctAnswerIndex: 2,
                explanation: "A filter is defined as a circuit that allows specific frequencies to pass through while blocking or reducing the amplitude of others."
            },
            {
                topic: "Active Filters",
                question: "What is the 'passband' of a filter?",
                choices: [
                    "The range of frequencies that are completely blocked by the filter.",
                    "The range of frequencies that are allowed to pass through the filter with minimum attenuation.",
                    "The frequency at which the filter response drops to zero.",
                    "The region where the filter's gain is maximized."
                ],
                correctAnswerIndex: 1,
                explanation: "The passband is the designated range of frequencies that the filter is designed to transmit with minimal signal loss or attenuation."
            },
            {
                topic: "Active Filters",
                question: "The 'critical frequency' (or cutoff frequency) of a filter is normally specified at the point where the response drops to what percentage of the passband response?",
                choices: [
                    "10%",
                    "50%",
                    "70.7%",
                    "90%"
                ],
                correctAnswerIndex: 2,
                explanation: "The critical frequency, also known as the cutoff frequency, is standardized as the point where the filter's output power is half of its maximum, which corresponds to 70.7% of the voltage response."
            },
            {
                topic: "Active Filters",
                question: "What distinguishes an 'active filter' from a passive filter?",
                choices: [
                    "Active filters only use resistors and capacitors.",
                    "Active filters only operate at very high frequencies.",
                    "Active filters include one or more active components like op-amps, in addition to passive components.",
                    "Active filters do not require a power supply."
                ],
                correctAnswerIndex: 2,
                explanation: "Active filters incorporate active components such as operational amplifiers (op-amps) or transistors to achieve their filtering characteristics, unlike passive filters which use only resistors, capacitors, and inductors."
            },
            {
                topic: "Active Filters",
                question: "Which type of filter passes frequencies from DC (0 Hz) up to a certain critical frequency and significantly attenuates all other frequencies above it?",
                choices: [
                    "High-Pass Filter",
                    "Low-Pass Filter",
                    "Band-Pass Filter",
                    "Band-Stop Filter"
                ],
                correctAnswerIndex: 1,
                explanation: "A low-pass filter allows signals below a specified cutoff frequency to pass through while attenuating signals above that frequency."
            },
            {
                topic: "Active Filters",
                question: "For an ideal low-pass filter, what is its bandwidth (BW) equal to?",
                choices: [
                    "Zero",
                    "Infinite",
                    "Its critical frequency ($f_c$)",
                    "Half of its critical frequency"
                ],
                correctAnswerIndex: 2,
                explanation: "For an ideal low-pass filter, its bandwidth is precisely defined as its cutoff frequency, as it theoretically passes all frequencies up to that point without attenuation."
            },
            {
                topic: "Active Filters",
                question: "Which type of filter significantly attenuates or rejects all frequencies below a critical frequency ($f_c$) and passes all frequencies above $f_c$?",
                choices: [
                    "Low-Pass Filter",
                    "High-Pass Filter",
                    "Band-Pass Filter",
                    "Band-Stop Filter"
                ],
                correctAnswerIndex: 1,
                explanation: "A high-pass filter is designed to block frequencies below a certain cutoff frequency while allowing higher frequencies to pass through."
            },
            {
                topic: "Active Filters",
                question: "What is a 'Band-Pass Filter' designed to do?",
                choices: [
                    "Pass all signals below a certain frequency.",
                    "Pass all signals above a certain frequency.",
                    "Pass all signals lying within a specific band between a lower and upper frequency limit, rejecting others.",
                    "Reject all signals within a specific band."
                ],
                correctAnswerIndex: 2,
                explanation: "A band-pass filter selects and transmits signals that fall within a defined frequency range, effectively blocking frequencies outside this band."
            },
            {
                topic: "Active Filters",
                question: "How is the bandwidth (BW) of a band-pass filter defined?",
                choices: [
                    "The sum of the upper and lower critical frequencies.",
                    "The product of the upper and lower critical frequencies.",
                    "The difference between the upper critical frequency ($f_{c2}$) and the lower critical frequency ($f_{c1}$).",
                    "The average of the upper and lower critical frequencies."
                ],
                correctAnswerIndex: 2,
                explanation: "The bandwidth of a band-pass filter is calculated by subtracting the lower cutoff frequency from the upper cutoff frequency."
            },
            {
                topic: "Active Filters",
                question: "A 'Band-Stop Filter' (also known as a notch filter) operates opposite to a band-pass filter. What is its main function?",
                choices: [
                    "To allow only a specific range of frequencies to pass.",
                    "To block a specific range of frequencies and allow the rest.",
                    "To amplify a specific range of frequencies.",
                    "To attenuate all frequencies equally."
                ],
                correctAnswerIndex: 1,
                explanation: "A band-stop filter is designed to block or severely attenuate frequencies within a specific narrow band, effectively creating a 'notch' in the frequency response, while passing frequencies outside this band."
            },
            {
                topic: "Active Filters",
                question: "Which filter response characteristic provides a very flat amplitude response in the passband and a roll-off rate of -20 dB/decade/pole, but a non-linear phase response?",
                choices: [
                    "Chebyshev Characteristic",
                    "Bessel Characteristic",
                    "Butterworth Characteristic",
                    "Gaussian Characteristic"
                ],
                correctAnswerIndex: 2,
                explanation: "The Butterworth filter is known for its maximally flat passband response and a consistent roll-off rate, although its phase response is not linear."
            },
            {
                topic: "Active Filters",
                question: "Which filter characteristic is known for a roll-off rate greater than -20 dB/decade/pole and is characterized by overshoot or ripples in the passband?",
                choices: [
                    "Butterworth Characteristic",
                    "Bessel Characteristic",
                    "Chebyshev Characteristic",
                    "Linear Phase Characteristic"
                ],
                correctAnswerIndex: 2,
                explanation: "The Chebyshev filter allows for a steeper roll-off than the Butterworth but introduces ripples in the passband, a trade-off for its sharper attenuation."
            },
            {
                topic: "Active Filters",
                question: "Which filter response characteristic exhibits a linear phase characteristic, resulting in almost no overshoot on the output with a pulse input?",
                choices: [
                    "Butterworth Characteristic",
                    "Chebyshev Characteristic",
                    "Bessel Characteristic",
                    "Ideal 'Brick-Wall' Response"
                ],
                correctAnswerIndex: 2,
                explanation: "The Bessel filter is designed to maintain a linear phase response, which is crucial for preserving the waveform integrity of pulse inputs and minimizing overshoot."
            },
            {
                topic: "Active Filters",
                question: "What does the Damping Factor (DF) of an active filter circuit determine?",
                choices: [
                    "The filter's maximum output voltage.",
                    "The type of active components used.",
                    "Which response characteristic (e.g., Butterworth, Chebyshev, Bessel) the filter exhibits.",
                    "The physical size of the filter."
                ],
                correctAnswerIndex: 2,
                explanation: "The damping factor directly influences the shape of the filter's frequency response, dictating whether it behaves like a Butterworth, Chebyshev, or Bessel filter."
            },
            {
                topic: "Active Filters",
                question: "In an active filter circuit, the amplifier and feedback are typically connected in what configuration?",
                choices: [
                    "Inverting configuration",
                    "Differential configuration",
                    "Noninverting configuration",
                    "Common-collector configuration"
                ],
                correctAnswerIndex: 2,
                explanation: "The document specifies that in active filter circuits, the amplifier and feedback are typically connected in a noninverting configuration."
            },
            {
                topic: "Active Filters",
                question: "What is a 'pole' in the context of filter design?",
                choices: [
                    "A physical connection point in the circuit.",
                    "A type of capacitor used in filters.",
                    "A circuit with one resistor and one capacitor, contributing to the roll-off rate.",
                    "The highest frequency a filter can pass."
                ],
                correctAnswerIndex: 2,
                explanation: "For filter purposes, a pole is simplified as a circuit containing one resistor and one capacitor, and each pole contributes to the filter's attenuation rate."
            },
            {
                topic: "Active Filters",
                question: "How does the number of poles affect the roll-off rate of a filter?",
                choices: [
                    "More poles lead to a slower roll-off rate.",
                    "More poles lead to a faster roll-off rate.",
                    "The number of poles has no effect on the roll-off rate.",
                    "The roll-off rate is determined only by the filter's gain."
                ],
                correctAnswerIndex: 1,
                explanation: "The number of poles directly determines how steeply a filter attenuates signals outside its passband; more poles result in a faster roll-off rate."
            },
            {
                topic: "Active Filters",
                question: "How can a third-order filter be obtained using lower-order filters?",
                choices: [
                    "By cascading three first-order filters.",
                    "By cascading a second-order and a first-order filter.",
                    "By connecting two second-order filters in parallel.",
                    "By increasing the damping factor of a first-order filter."
                ],
                correctAnswerIndex: 1,
                explanation: "Higher-order filters can be achieved by cascading lower-order filter stages; for instance, a third-order filter is formed by connecting a second-order and a first-order filter in series."
            },
            {
                topic: "Active Filters",
                question: "What is the typical roll-off rate for a first-order active low-pass filter after the cutoff frequency?",
                choices: [
                    "-10 dB/decade",
                    "-20 dB/decade",
                    "-40 dB/decade",
                    "-60 dB/decade"
                ],
                correctAnswerIndex: 1,
                explanation: "A first-order filter, having only one reactive component, characteristically attenuates signals at a rate of -20 dB per decade after its cutoff frequency."
            },
            {
                topic: "Active Filters",
                question: "A second-order active low-pass filter typically has a roll-off rate of:",
                choices: [
                    "-20 dB/decade",
                    "-40 dB/decade",
                    "-60 dB/decade",
                    "-80 dB/decade"
                ],
                correctAnswerIndex: 1,
                explanation: "A second-order filter, composed of two reactive components, provides a steeper attenuation rate of -40 dB per decade after its cutoff frequency."
            },
            {
                topic: "Active Filters",
                question: "What is the roll-off rate formula for a cascaded active low-pass filter with a total filter order of 'n'?",
                choices: [
                    "Roll-off = -10n dB/decade",
                    "Roll-off = -20n dB/decade",
                    "Roll-off = -30n dB/decade",
                    "Roll-off = -40n dB/decade"
                ],
                correctAnswerIndex: 1,
                explanation: "The overall roll-off rate of cascaded filters is determined by multiplying -20 dB/decade by the total number of poles, or the total filter order 'n'."
            },
            {
                topic: "Active Filters",
                question: "What is the main function of an active high-pass filter?",
                choices: [
                    "To block high-frequency signals and pass low frequencies.",
                    "To convert AC signals into DC signals.",
                    "To allow high-frequency signals to pass and attenuate low-frequency signals.",
                    "To increase the voltage of all frequencies equally."
                ],
                correctAnswerIndex: 2,
                explanation: "An active high-pass filter is designed to allow signals above a certain cutoff frequency to pass through while blocking or reducing the amplitude of lower frequencies."
            },
            {
                topic: "Active Filters",
                question: "In a first-order active high-pass filter, what component is responsible for blocking low-frequency signals?",
                choices: [
                    "The operational amplifier (op-amp).",
                    "The resistor (R).",
                    "The capacitor (C).",
                    "The power supply."
                ],
                correctAnswerIndex: 2,
                explanation: "The capacitor in a high-pass filter acts as a frequency-dependent resistor, offering high impedance to low-frequency signals and thus blocking them, while allowing high frequencies to pass."
            },
            {
                topic: "Active Filters",
                question: "What is a 'Multiple Feedback (MFB) Bandpass Filter' known for?",
                choices: [
                    "Using multiple op-amps for independent tuning.",
                    "Having a compact design and high selectivity.",
                    "Only generating low-pass outputs.",
                    "Being suitable for wideband filtering only."
                ],
                correctAnswerIndex: 1,
                explanation: "The MFB bandpass filter is characterized by its compact design due to using a single op-amp with multiple feedback paths, offering high gain and selectivity, especially for narrowband applications."
            },
            {
                topic: "Active Filters",
                question: "Which type of bandpass filter simultaneously generates low-pass, high-pass, and bandpass outputs and allows independent tuning of Q and center frequency?",
                choices: [
                    "Cascaded Low-Pass and High-Pass Filters",
                    "Multiple Feedback (MFB) Bandpass Filter",
                    "State Variable Filter (SVF)",
                    "Butterworth Filter"
                ],
                correctAnswerIndex: 2,
                explanation: "The State Variable Filter (SVF) is distinguished by its ability to provide multiple outputs (low-pass, high-pass, bandpass) simultaneously, and offers independent control over its quality factor (Q) and center frequency."
            },
            {
                topic: "Active Filters",
                question: "What is another common name for a 'Band-Stop Filter'?",
                choices: [
                    "Amplifier",
                    "Attenuator",
                    "Notch Filter",
                    "Equalizer"
                ],
                correctAnswerIndex: 2,
                explanation: "Band-stop filters are frequently referred to as 'notch filters' because they create a sharp, narrow rejection band (a 'notch') within the frequency spectrum."
            },
            {
                topic: "Active Filters",
                question: "What is the purpose of 'Frequency Response Measurement' for a filter?",
                choices: [
                    "To determine the physical dimensions of the filter components.",
                    "To identify the filter's power consumption.",
                    "To determine how a filter responds to different input frequencies and analyze its behavior.",
                    "To measure the temperature stability of the filter."
                ],
                correctAnswerIndex: 2,
                explanation: "Frequency response measurement is essential for understanding how a filter behaves across different frequencies, revealing its passband, stopband, and roll-off characteristics."
            },
            {
                topic: "Active Filters",
                question: "Which frequency response measurement method involves measuring filter response one frequency at a time using a sine wave generator and voltmeter/oscilloscope?",
                choices: [
                    "Swept Frequency Measurement",
                    "Spectrum Analysis",
                    "Discrete-Point Measurement",
                    "Real-Time Analysis"
                ],
                correctAnswerIndex: 2,
                explanation: "Discrete-point measurement is a manual process where the filter's output is measured at individual frequencies, making it simple but time-consuming."
            },
            {
                topic: "Active Filters",
                question: "What is an advantage of 'Swept Frequency Measurement' over 'Discrete-Point Measurement'?",
                choices: [
                    "It is less expensive to set up.",
                    "It is less prone to human error.",
                    "It captures the full response curve quickly and offers high resolution.",
                    "It requires less advanced equipment."
                ],
                correctAnswerIndex: 2,
                explanation: "Swept frequency measurement uses a continuously varying frequency signal to quickly capture the entire frequency response curve, providing higher resolution and efficiency."
            },
            {
                topic: "Active Filters",
                question: "In an audio system, what is the purpose of using low-pass and high-pass filters in crossover networks?",
                choices: [
                    "To amplify all audio signals equally.",
                    "To convert analog audio to digital audio.",
                    "To separate bass, midrange, and treble for different speakers.",
                    "To eliminate all noise from the audio signal."
                ],
                correctAnswerIndex: 2,
                explanation: "Crossover networks in audio systems utilize low-pass filters for subwoofers and high-pass filters for tweeters, ensuring that each speaker receives only the frequency range it is designed to reproduce efficiently."
            },
            // Transistor Fabrication questions
            {
                topic: "Transistor Fabrication",
                question: "What is the primary function of a transistor?",
                choices: [
                    "To generate electrical power.",
                    "To store digital data.",
                    "To amplify or switch electronic signals.",
                    "To convert light into electricity."
                ],
                correctAnswerIndex: 2,
                explanation: "A transistor is a semiconductor device designed to control current flow, primarily used for amplifying or switching electronic signals in circuits."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'fabrication' in the context of semiconductor devices?",
                choices: [
                    "The process of designing integrated circuits.",
                    "The process of packaging microchips.",
                    "The process of constructing semiconductor devices on a silicon wafer.",
                    "The process of testing completed electronic devices."
                ],
                correctAnswerIndex: 2,
                explanation: "Fabrication refers to the series of controlled steps involved in building semiconductor devices like transistors onto a silicon wafer to create integrated circuits."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the 'ingot' in wafer preparation?",
                choices: [
                    "A thin, polished slice of silicon.",
                    "The raw sand material used for silicon extraction.",
                    "The resulting silicon rod formed during crystal growth.",
                    "A finished microchip ready for packaging."
                ],
                correctAnswerIndex: 2,
                explanation: "After silicon extraction from sand, the resultant pure silicon rod is known as an ingot, from which wafers are sliced."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the purpose of 'oxidation' in transistor fabrication?",
                choices: [
                    "To dope the silicon wafer with impurities.",
                    "To etch patterns into the silicon.",
                    "To form a thin insulating layer of silicon dioxide on the wafer surface.",
                    "To deposit metal interconnects."
                ],
                correctAnswerIndex: 2,
                explanation: "Oxidation creates a protective and insulating layer of silicon dioxide (SiO₂) on the silicon wafer by exposing it to oxygen or steam at high temperatures."
            },
            {
                topic: "Transistor Fabrication",
                question: "The Deal-Grove Equation describes the growth of what material on a silicon wafer during thermal oxidation?",
                choices: [
                    "Pure silicon.",
                    "Aluminum.",
                    "Silicon dioxide ($SiO_2$).",
                    "Photoresist."
                ],
                correctAnswerIndex: 2,
                explanation: "The Deal-Grove Equation is a mathematical model specifically used to describe and predict the thickness of the silicon dioxide layer formed during the thermal oxidation of silicon wafers."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'photolithography' primarily used for in transistor fabrication?",
                choices: [
                    "To clean the wafer surface.",
                    "To grow crystal ingots.",
                    "To transfer a geometric pattern from a photomask to the wafer surface using light.",
                    "To test the electrical properties of the transistor."
                ],
                correctAnswerIndex: 2,
                explanation: "Photolithography is a key patterning step that uses light (typically UV) and a photomask to define microscopic circuit patterns on the wafer surface by selectively exposing a photoresist layer."
            },
            {
                topic: "Transistor Fabrication",
                question: "Which step in photolithography involves heating the wafer to improve the contrast and adhesion of the patterned resist?",
                choices: [
                    "Development.",
                    "UV Light Exposure.",
                    "Annealing.",
                    "Photoresist Deposition."
                ],
                correctAnswerIndex: 2,
                explanation: "Annealing is a heat treatment process performed after photoresist exposure to enhance the properties of the photoresist layer, improving its adhesion and the clarity of the transferred pattern."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'doping' in semiconductor manufacturing?",
                choices: [
                    "The process of polishing silicon wafers.",
                    "Introducing impurities into a pure semiconductor to change its electrical properties.",
                    "Coating the wafer with a light-sensitive material.",
                    "Removing unwanted material from the wafer."
                ],
                correctAnswerIndex: 1,
                explanation: "Doping is the intentional introduction of specific impurity atoms (like Boron or Phosphorus) into an intrinsic (pure) semiconductor material to alter its conductivity and create N-type or P-type regions."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is an 'intrinsic semiconductor'?",
                choices: [
                    "A semiconductor that has been heavily doped.",
                    "A pure semiconductor material with no significant impurities.",
                    "A semiconductor used only for amplification.",
                    "A semiconductor with very high electrical conductivity."
                ],
                correctAnswerIndex: 1,
                explanation: "An intrinsic semiconductor is a naturally pure semiconductor material, such as silicon or germanium, that has not been intentionally doped with impurities."
            },
            {
                topic: "Transistor Fabrication",
                question: "To create an N-type extrinsic semiconductor from pure silicon, what type of impurity atom is typically added?",
                choices: [
                    "Trivalent impurity (e.g., Boron).",
                    "Tetravalent impurity (e.g., Germanium).",
                    "Pentavalent impurity (e.g., Phosphorus).",
                    "Divalent impurity (e.g., Zinc)."
                ],
                correctAnswerIndex: 2,
                explanation: "N-type semiconductors are formed by doping pure silicon with pentavalent impurities (like Phosphorus, Arsenic, or Antimony), which provide extra free electrons to increase conductivity."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'etching' in transistor fabrication?",
                choices: [
                    "Adding new material layers to the wafer.",
                    "Removing unwanted material from the wafer to shape circuit patterns.",
                    "Polishing the wafer surface.",
                    "Cleaning the wafer using chemical solutions."
                ],
                correctAnswerIndex: 1,
                explanation: "Etching is the process of selectively removing materials from the wafer surface, following patterns defined by photolithography, to create the desired circuit features."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the main advantage of 'dry etching' (anisotropic) over 'wet etching' (isotropic)?",
                choices: [
                    "It is simpler and faster.",
                    "It is less expensive.",
                    "It offers high precision and control for complex, fine features.",
                    "It uses liquid chemicals, which are easier to handle."
                ],
                correctAnswerIndex: 2,
                explanation: "Dry etching, which uses gases and plasma, provides much higher precision and anisotropic (directional) etching, crucial for defining the very small and complex structures in modern chips."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'deposition' in semiconductor manufacturing?",
                choices: [
                    "The process of removing material from the wafer.",
                    "The process of adding a thin film of material to the wafer surface.",
                    "The process of changing the electrical properties of silicon.",
                    "The process of baking the photoresist."
                ],
                correctAnswerIndex: 1,
                explanation: "Deposition involves applying thin layers of various materials—insulators, conductors, or semiconductors—onto the wafer surface, which is fundamental for building chips layer by layer."
            },
            {
                topic: "Transistor Fabrication",
                question: "Which deposition technique involves gases reacting on the wafer surface to form a solid layer, known for uniform, conformal coatings?",
                choices: [
                    "Physical Vapor Deposition (PVD).",
                    "Sputtering.",
                    "Evaporation.",
                    "Chemical Vapor Deposition (CVD)."
                ],
                correctAnswerIndex: 3,
                explanation: "Chemical Vapor Deposition (CVD) uses chemical reactions of gases near the wafer surface to deposit highly uniform and conformal thin films, which are critical for filling trenches and holes."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the main purpose of 'metallization' in transistor fabrication?",
                choices: [
                    "To protect the silicon wafer from contamination.",
                    "To create insulating layers between circuits.",
                    "To form the metal interconnections that electrically connect components on a chip.",
                    "To polish the wafer surface to a high flatness."
                ],
                correctAnswerIndex: 2,
                explanation: "Metallization is the crucial step where conductive metal layers are formed to create the intricate electrical pathways, or interconnects, that link all the individual components of an integrated circuit."
            },
            {
                topic: "Transistor Fabrication",
                question: "Which metal is widely used for modern interconnects due to its low resistivity and good reliability?",
                choices: [
                    "Aluminum (Al).",
                    "Tungsten (W).",
                    "Titanium (Ti).",
                    "Copper (Cu)."
                ],
                correctAnswerIndex: 3,
                explanation: "Copper (Cu) has become the preferred material for advanced interconnects in modern ICs because of its superior electrical conductivity (low resistivity) and improved reliability compared to older materials like aluminum."
            },
            {
                topic: "Transistor Fabrication",
                question: "What are 'Contact Vias' used for in metallization layers?",
                choices: [
                    "To store electrical charges.",
                    "To provide horizontal signal routing.",
                    "To link the transistor's source, drain, and gate to the metal interconnect layers above.",
                    "To dissipate heat from the chip."
                ],
                correctAnswerIndex: 2,
                explanation: "Contact vias are vertical conductive plugs (often made of tungsten) that provide the necessary electrical connections from the underlying transistor components (source, drain, gate) to the first and subsequent metal routing layers."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the primary function of 'Dielectric Layers' in metallization?",
                choices: [
                    "To conduct electricity between metal layers.",
                    "To provide structural support for the chip.",
                    "To insulate metal layers and prevent electrical shorts.",
                    "To act as a heat sink."
                ],
                correctAnswerIndex: 2,
                explanation: "Dielectric layers, typically made of silicon dioxide, are insulating materials placed between metal interconnect layers to prevent unwanted electrical shorts and maintain signal integrity."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'Interconnect Formation'?",
                choices: [
                    "The process of joining multiple wafers together.",
                    "The creation of physical pathways that connect individual transistors within an IC.",
                    "The process of encapsulating the chip for protection.",
                    "The initial cleaning of the silicon wafer."
                ],
                correctAnswerIndex: 1,
                explanation: "Interconnect formation is the crucial stage where the electrical pathways are established to link all the transistors and other components on an integrated circuit, enabling the circuit's functionality."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the difference between 'Local Interconnects' and 'Global Interconnects'?",
                choices: [
                    "Local are thicker, Global are thinner.",
                    "Local handle short-distance, high-density connections; Global handle longer-distance connections.",
                    "Local carry power, Global carry signals.",
                    "Local are on the upper layers, Global are on the lower layers."
                ],
                correctAnswerIndex: 1,
                explanation: "Local interconnects are situated closer to the transistors for short-range, high-density connections, while global interconnects are wider and thicker, designed for longer-distance signal and power distribution across the chip."
            },
            {
                topic: "Transistor Fabrication",
                question: "What challenge in interconnect formation involves the movement of metal atoms under high current densities, potentially leading to failures?",
                choices: [
                    "RC Delay.",
                    "Thermal Management.",
                    "Electromigration.",
                    "Oxidation."
                ],
                correctAnswerIndex: 2,
                explanation: "Electromigration is a reliability concern in interconnects where sustained high current densities cause metal atoms to migrate, potentially creating voids or hillocks that can lead to circuit failure."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is 'RC Delay' in interconnects, and how is it mitigated?",
                choices: [
                    "It's a delay due to heat; mitigated by cooling.",
                    "It's a delay affecting signal speed due to resistance-capacitance; mitigated by low-resistivity metals and low-k dielectrics.",
                    "It's a delay caused by too many transistors; mitigated by reducing circuit complexity.",
                    "It's a delay in fabrication time; mitigated by faster processes."
                ],
                correctAnswerIndex: 1,
                explanation: "RC delay refers to the signal propagation delay caused by the resistance and capacitance of the interconnect lines, and it is minimized by using metals with lower resistance (e.g., copper) and insulating materials with lower dielectric constants (low-k dielectrics)."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the main purpose of 'Final Testing' in transistor fabrication?",
                choices: [
                    "To determine the type of transistor being manufactured.",
                    "To ensure transistors are physically bonded to the substrate.",
                    "To verify that manufactured transistors meet required specifications and are free from defects.",
                    "To increase the clock speed of the transistors."
                ],
                correctAnswerIndex: 2,
                explanation: "Final testing is a crucial quality control step that checks if the fabricated transistors (or ICs) perform according to design specifications and are free of any manufacturing defects before packaging."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the main purpose of 'packaging' in semiconductor manufacturing?",
                choices: [
                    "To increase the speed of the transistor.",
                    "To improve the chemical composition of the semiconductor.",
                    "To enclose the semiconductor die in a protective structure for safe use.",
                    "To reduce the cost of transistor fabrication."
                ],
                correctAnswerIndex: 2,
                explanation: "Packaging involves encapsulating the delicate semiconductor die within a protective enclosure, which safeguards it from environmental damage and provides a means for electrical connection to external circuits."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the typical starting material for wafer preparation?",
                choices: [
                    "Clay",
                    "Copper",
                    "Pure silicon crystal",
                    "Plastic"
                ],
                correctAnswerIndex: 2,
                explanation: "The process begins with a pure silicon crystal, which is then refined and processed into the wafers used as the substrate for integrated circuits."
            },
            {
                topic: "Transistor Fabrication",
                question: "What does 'cleanroom environments' refer to in transistor fabrication?",
                choices: [
                    "Rooms where engineers clean their tools.",
                    "Environments with very low levels of airborne particles, crucial for preventing defects.",
                    "Rooms used for chemical waste disposal.",
                    "Areas where the final product is cleaned before shipping."
                ],
                correctAnswerIndex: 1,
                explanation: "Cleanrooms are strictly controlled environments with minimal dust and contaminants, essential for preventing tiny particles from interfering with the microscopic structures being fabricated on the wafers, which could lead to defects."
            },
            {
                topic: "Transistor Fabrication",
                question: "In the Deal-Grove equation, what does 'x' represent?",
                choices: [
                    "Oxidation time.",
                    "Oxide thickness.",
                    "Temperature.",
                    "Linear rate constant."
                ],
                correctAnswerIndex: 1,
                explanation: "In the Deal-Grove equation ($x^2 + Ax = B(t + \\tau)$), 'x' specifically denotes the oxide thickness that grows on the silicon wafer."
            },
            {
                topic: "Transistor Fabrication",
                question: "What material is typically used for 'Gate' in a transistor element?",
                choices: [
                    "Copper",
                    "Silicon dioxide",
                    "Polysilicon or metal",
                    "Aluminum"
                ],
                correctAnswerIndex: 2,
                explanation: "The gate controls current flow in a transistor and is typically made of polysilicon or, in more advanced technologies, metal."
            },
            {
                topic: "Transistor Fabrication",
                question: "What is the main challenge associated with 'Thermal Management' in interconnect formation?",
                choices: [
                    "Difficulty in maintaining consistent temperatures.",
                    "Heat generated can affect interconnect reliability.",
                    "Cooling systems consume too much power.",
                    "Temperature fluctuations cause etching problems."
                ],
                correctAnswerIndex: 1,
                explanation: "The heat generated by operating circuits can negatively impact the reliability and performance of interconnects, requiring effective heat dissipation strategies."
            },
            {
                topic: "Transistor Fabrication",
                question: "Which layer is described as the 'foundational layer where transistors are formed'?",
                choices: [
                    "Metal 1 (M1) layer.",
                    "Dielectric layer.",
                    "Silicon Substrate.",
                    "Contact Vias."
                ],
                correctAnswerIndex: 2,
                explanation: "The silicon substrate is the fundamental base material upon which all subsequent transistor structures and integrated circuit components are built."
            },
            // Integrated Circuit Families questions
            {
                topic: "Integrated Circuit Families",
                question: "What is an Integrated Circuit (IC) in a digital system?",
                choices: [
                    "A single large resistor used for current limiting.",
                    "A device that converts digital signals to analog signals.",
                    "A small electronic device containing interconnected logic gates, transistors, and components on a single chip.",
                    "A power supply unit for digital circuits."
                ],
                correctAnswerIndex: 2,
                explanation: "An IC is a compact electronic device that integrates multiple components like transistors and logic gates onto a single semiconductor chip to perform specific digital functions."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Why is selecting the right IC family crucial in digital system design?",
                choices: [
                    "It only affects the aesthetic design of the circuit board.",
                    "It directly impacts the system's performance, power efficiency, cost, compatibility, and reliability.",
                    "It determines the physical size of the components, but not their function.",
                    "It is only relevant for very simple digital circuits."
                ],
                correctAnswerIndex: 1,
                explanation: "The choice of IC family is critical because it dictates key operational aspects like speed, power consumption, overall system cost, ability to work with other components, and long-term dependable operation."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What is Moore's Law?",
                choices: [
                    "A law describing the resistance of conductors.",
                    "The observation that the number of transistors on a microchip doubles approximately every two years.",
                    "A principle for designing efficient power supplies.",
                    "A theorem for calculating circuit impedance."
                ],
                correctAnswerIndex: 1,
                explanation: "Moore's Law is a famous observation stating that the number of transistors on a microchip doubles roughly every two years, leading to exponential growth in computing power and reduction in cost."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which IC family was developed by Texas Instruments in the 1960s and is known by its 7400 series?",
                choices: [
                    "CMOS",
                    "ECL",
                    "TTL",
                    "RTL"
                ],
                correctAnswerIndex: 2,
                explanation: "TTL (Transistor-Transistor Logic) was developed by Texas Instruments in the 1960s, with the 7400 series being its first family of integrated circuits."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What does 'transistor-transistor' refer to in TTL (Transistor-Transistor Logic)?",
                choices: [
                    "The use of two types of transistors in one circuit.",
                    "The use of transistors for both logic gating and amplifying functions.",
                    "The ability of transistors to communicate directly with each other.",
                    "The cascading of multiple transistor stages without amplification."
                ],
                correctAnswerIndex: 1,
                explanation: "In TTL, transistors are employed for both the core logic operations (gating) and for amplifying the signal, leading to its distinctive name."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What are the typical logic voltage levels for a TTL logical HIGH input?",
                choices: [
                    "0V to 0.8V",
                    "0.8V to 2V",
                    "2V to 5V",
                    "5V to 10V"
                ],
                correctAnswerIndex: 2,
                explanation: "TTL circuits classify inputs between 2V and 5V as a logical HIGH, defining its operational voltage thresholds."
            },
            {
                topic: "Integrated Circuit Families",
                question: "A TTL circuit is powered by what standard voltage supply?",
                choices: [
                    "+3.3V",
                    "+5V",
                    "+12V",
                    "-5.2V"
                ],
                correctAnswerIndex: 1,
                explanation: "TTL circuits are designed to operate specifically with a +5V power supply, which is a key characteristic of this logic family."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which logic family is the most widely used today, particularly in microprocessors and memory chips, due to its low power consumption?",
                choices: [
                    "TTL",
                    "ECL",
                    "CMOS",
                    "DTL"
                ],
                correctAnswerIndex: 2,
                explanation: "CMOS is predominant in modern electronics because it consumes very little power, especially when idle, making it ideal for microprocessors and battery-powered devices."
            },
            {
                topic: "Integrated Circuit Families",
                question: "CMOS logic uses a combination of which two types of MOSFETs?",
                choices: [
                    "NPN and PNP",
                    "JFET and BJT",
                    "P-channel (PMOS) and N-channel (NMOS)",
                    "SCR and TRIAC"
                ],
                correctAnswerIndex: 2,
                explanation: "CMOS circuits are built using complementary pairs of p-type and n-type MOSFETs (PMOS and NMOS), which work together to implement logic functions with low power consumption."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What is the main reason CMOS circuits are ideal for battery-powered devices?",
                choices: [
                    "They can operate at very high temperatures.",
                    "They draw power only when switching states, not when idle.",
                    "They have extremely high fan-out capability.",
                    "They are resistant to electromagnetic interference."
                ],
                correctAnswerIndex: 1,
                explanation: "CMOS circuits are energy-efficient because current primarily flows only during the brief moments when the transistors are switching between states, minimizing static power drain."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which logic family is designed for extremely high-speed operations and is based on a differential amplifier?",
                choices: [
                    "TTL",
                    "CMOS",
                    "ECL",
                    "IIL"
                ],
                correctAnswerIndex: 2,
                explanation: "ECL (Emitter-Coupled Logic) is specifically engineered for ultra-fast switching speeds, utilizing a differential amplifier design that prevents transistors from going into saturation, thus avoiding switching delays."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Why do ECL circuits achieve high speeds without delays caused by turning transistors fully on or off?",
                choices: [
                    "They use very high supply voltages.",
                    "They rely on inductive coupling.",
                    "The transistors never go into full saturation.",
                    "They operate only with digital signals."
                ],
                correctAnswerIndex: 2,
                explanation: "ECL's speed advantage comes from its non-saturating operation, meaning its transistors are always in their active region, avoiding the time delay associated with driving transistors into and out of saturation."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Compare the typical power dissipation of TTL, ECL, and CMOS. Which order is correct from lowest to highest?",
                choices: [
                    "TTL, CMOS, ECL",
                    "ECL, TTL, CMOS",
                    "CMOS, TTL, ECL",
                    "CMOS, ECL, TTL"
                ],
                correctAnswerIndex: 2,
                explanation: "CMOS has the lowest power dissipation (around 0.1 mW), followed by TTL (10-22 mW), and ECL has the highest (40-50 mW) due to its constant current flow design."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which IC family generally offers the best noise immunity?",
                choices: [
                    "TTL",
                    "ECL",
                    "CMOS",
                    "All have similar noise immunity."
                ],
                correctAnswerIndex: 2,
                explanation: "CMOS provides excellent noise immunity due to its wide voltage thresholds between logic states and high input impedance, making it less susceptible to noise interference."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What is the approximate propagation delay for ECL logic?",
                choices: [
                    "70 nanoseconds",
                    "10 nanoseconds",
                    "2 nanoseconds",
                    "100 nanoseconds"
                ],
                correctAnswerIndex: 2,
                explanation: "ECL is known for its extremely fast switching, with a typical propagation delay of around 2 nanoseconds, making it the fastest among the three common families."
            },
            {
                topic: "Integrated Circuit Families",
                question: "A CMOS inverter is the fundamental building block for what type of digital logic?",
                choices: [
                    "Only memory cells.",
                    "Only flip-flops.",
                    "More complex digital circuits like logic gates, flip-flops, and memory cells.",
                    "Analog signal amplification."
                ],
                correctAnswerIndex: 2,
                explanation: "The CMOS inverter is crucial because its simple NOT gate function can be combined to create all other complex digital logic gates, flip-flops, and memory elements."
            },
            {
                topic: "Integrated Circuit Families",
                question: "In a CMOS inverter, if the input is HIGH (1), which transistor is conducting, and what is the output?",
                choices: [
                    "PMOS is ON, output is HIGH.",
                    "NMOS is ON, output is HIGH.",
                    "PMOS is ON, output is LOW.",
                    "NMOS is ON, output is LOW."
                ],
                correctAnswerIndex: 3,
                explanation: "When the input is HIGH, the NMOS transistor turns ON and pulls the output to LOW (ground), while the PMOS transistor is OFF, ensuring low power consumption."
            },
            {
                topic: "Integrated Circuit Families",
                question: "For a two-input CMOS NAND gate, how are the NMOS transistors connected?",
                choices: [
                    "In parallel.",
                    "In series.",
                    "In a differential configuration.",
                    "They are not used in NAND gates."
                ],
                correctAnswerIndex: 1,
                explanation: "In a CMOS NAND gate, the NMOS transistors are connected in series; they both must be ON (inputs HIGH) for the output to be LOW."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What is the relationship between the NMOS and PMOS networks in a CMOS logic gate (e.g., NAND/NOR)?",
                choices: [
                    "They are identical in connection.",
                    "The PMOS network is always a series connection.",
                    "The PMOS network is the dual of the NMOS network.",
                    "They operate independently with no interaction."
                ],
                correctAnswerIndex: 2,
                explanation: "The PMOS network in a CMOS logic gate is designed as the logical dual of the NMOS network; if NMOS is in series for a function, PMOS will be in parallel for the same function, and vice-versa."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which of the following describes a 'static characteristic' of a CMOS circuit?",
                choices: [
                    "Its behavior during power-up sequences.",
                    "Its behavior under steady-state (DC) conditions, when inputs are not changing.",
                    "Its speed of operation during complex calculations.",
                    "Its ability to resist electromagnetic interference."
                ],
                correctAnswerIndex: 1,
                explanation: "Static characteristics describe how a circuit behaves when inputs are stable and not changing, focusing on DC parameters like voltage levels and leakage current."
            },
            {
                topic: "Integrated Circuit Families",
                question: "If a digital logic gate has $V_{OH} = 4.5V$ and $V_{IH} = 2.5V$, what is its Noise Margin High ($NM_H$)?",
                choices: [
                    "7.0 V",
                    "2.0 V",
                    "4.5 V",
                    "2.5 V"
                ],
                correctAnswerIndex: 1,
                explanation: "Noise Margin High ($NM_H$) is calculated as the difference between the minimum output high voltage ($V_{OH}$) and the minimum input high voltage recognized ($V_{IH}$): $NM_H = V_{OH} - V_{IH} = 4.5V - 2.5V = 2.0V$."
            },
            {
                topic: "Integrated Circuit Families",
                question: "A CMOS inverter has a leakage current ($I_{DD}$) of 50 nA and a supply voltage ($V_{DD}$) of 3.0 V. What is its static power dissipation ($P_{static}$)?",
                choices: [
                    "150 mW",
                    "150 µW",
                    "150 nW",
                    "50 W"
                ],
                correctAnswerIndex: 2,
                explanation: "Static power dissipation ($P_{static}$) is calculated as $P_{static} = I_{DD} \\cdot V_{DD}$. So, $P_{static} = 50 \\times 10^{-9} A \\cdot 3.0 V = 150 \\times 10^{-9} W = 150 nW$."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which of the following describes a 'dynamic characteristic' of a CMOS circuit?",
                choices: [
                    "Its power consumption when idle.",
                    "Its noise immunity from static electricity.",
                    "Its behavior during switching and transient conditions.",
                    "Its voltage output when the input is stable."
                ],
                correctAnswerIndex: 2,
                explanation: "Dynamic characteristics relate to how a circuit performs when inputs are changing, including aspects like propagation delay and switching speed."
            },
            {
                topic: "Integrated Circuit Families",
                question: "What does 'propagation delay' in a CMOS circuit measure?",
                choices: [
                    "The time it takes for the power supply to stabilize.",
                    "The time taken by the output to change after the input changes.",
                    "The time required for the circuit to warm up.",
                    "The total time a signal spends in the circuit."
                ],
                correctAnswerIndex: 1,
                explanation: "Propagation delay is a measure of how quickly a logic gate responds to a change in its input, quantifying the time lag between an input transition and the corresponding output transition."
            },
            {
                topic: "Integrated Circuit Families",
                question: "A CMOS inverter has an effective resistance (R) of 1 k$\\Omega$ and is driving a load capacitance ($C_L$) of 10 pF. What is its approximate propagation delay ($t_{pd}$)? (Use $t_{pd} = 0.69 \\cdot R \\cdot C_L$)",
                choices: [
                    "6.9 ns",
                    "10 ns",
                    "69 ns",
                    "1.0 ns"
                ],
                correctAnswerIndex: 0,
                explanation: "Using the formula $t_{pd} = 0.69 \\cdot R \\cdot C_L$: $t_{pd} = 0.69 \\cdot (1 \\times 10^3 \\Omega) \\cdot (10 \\times 10^{-12} F) = 6.9 \\times 10^{-9} s = 6.9 ns$."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Dynamic power consumption in CMOS primarily occurs due to:",
                choices: [
                    "Leakage current when the circuit is idle.",
                    "Heat generated by resistive components.",
                    "Charging and discharging of capacitive loads every time a signal switches.",
                    "Constant current flow through the transistors."
                ],
                correctAnswerIndex: 2,
                explanation: "Dynamic power is consumed during transitions as energy is required to charge and discharge the load capacitances in the circuit each time a signal changes state."
            },
            {
                topic: "Integrated Circuit Families",
                question: "A digital circuit operates at a frequency (f) of 1 MHz, has an effective load capacitance ($C_L$) of 10 pF, and a supply voltage ($V_{DD}$) of 2.5 V. If the switching activity factor ($\\alpha$) is 0.8, what is the approximate dynamic power consumption ($P_{dynamic}$)? (Use $P_{dynamic} = \\alpha \\cdot C_L \\cdot V_{DD}^2 \\cdot f$)",
                choices: [
                    "0.2 µW",
                    "20 µW",
                    "50 µW",
                    "200 µW"
                ],
                correctAnswerIndex: 1,
                explanation: "Using the formula $P_{dynamic} = \\alpha \\cdot C_L \\cdot V_{DD}^2 \\cdot f$: $P_{dynamic} = 0.8 \\cdot (10 \\times 10^{-12} F) \\cdot (2.5 V)^2 \\cdot (1 \\times 10^6 Hz) = 50 \\times 10^{-6} W = 20 \\mu W$."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which IC family offers the best trade-off between low power consumption and high performance in modern designs, making it versatile for many applications?",
                choices: [
                    "TTL",
                    "CMOS",
                    "ECL",
                    "RTL"
                ],
                correctAnswerIndex: 1,
                explanation: "Modern CMOS technology has evolved to provide an excellent balance of low power consumption (especially critical for portable devices) and competitive performance, making it widely adopted across various applications."
            },
            {
                topic: "Integrated Circuit Families",
                question: "For applications requiring ultra-high-speed and precision timing, such as telecommunications and radar systems, which IC family is the best choice?",
                choices: [
                    "TTL",
                    "CMOS",
                    "ECL",
                    "Both TTL and CMOS"
                ],
                correctAnswerIndex: 2,
                explanation: "ECL is specifically designed for the most demanding high-speed applications due to its unparalleled switching speeds, crucial for real-time systems like radar and telecommunications."
            },
            {
                topic: "Integrated Circuit Families",
                question: "Which IC family is typically suited for legacy digital systems and industrial control applications where moderate speed and power usage are acceptable?",
                choices: [
                    "CMOS",
                    "ECL",
                    "TTL",
                    "None of the above"
                ],
                correctAnswerIndex: 2,
                explanation: "TTL remains a reliable choice for robust, general-purpose logic circuits in established digital systems and industrial controls, where its moderate performance and cost are suitable."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let questions = []; // Questions for the currently active topic
        let currentTopic = "";
        let answerSelectedForCurrentQuestion = false; // New flag to track answer selection

        // Get DOM elements
        const tabContainer = document.getElementById('tab-container');
        const quizUI = document.getElementById('quiz-ui');
        const quizResults = document.getElementById('quiz-results');
        const scoreDisplay = document.getElementById('score-display');
        const progressCounter = document.getElementById('progress-counter');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const answerChoicesDiv = document.getElementById('answer-choices');
        const explanationTextDiv = document.getElementById('explanation-text'); // New explanation div
        const nextButton = document.getElementById('next-button');
        const finalScoreDisplay = document.getElementById('final-score');
        const restartButton = document.getElementById('restart-button');

        // Function to set up tabs
        function setupTabs() {
            const topics = [...new Set(allQuestions.map(q => q.topic))]; // Get unique topics
            tabContainer.innerHTML = ''; // Clear existing tabs

            topics.forEach((topic, index) => {
                const button = document.createElement('button');
                button.textContent = topic;
                button.classList.add('tab-button');
                button.dataset.topic = topic;
                button.addEventListener('click', () => switchTopic(topic));
                tabContainer.appendChild(button);

                // Automatically activate the first tab
                if (index === 0) {
                    currentTopic = topic;
                    button.classList.add('active');
                }
            });

            // Initialize the quiz with the first topic
            // Ensure MathJax is ready before loading questions that might contain LaTeX
            MathJax.Hub.Queue(function () {
                loadQuestions(currentTopic);
            });
        }

        // Function to switch topic
        function switchTopic(topic) {
            currentTopic = topic;
            currentQuestionIndex = 0;
            score = 0;
            answerSelectedForCurrentQuestion = false; // Reset flag for new topic
            quizUI.classList.remove('hidden');
            quizResults.classList.add('hidden'); // Hide results if switching topic
            
            // Ensure MathJax is ready before loading questions for the new topic
            MathJax.Hub.Queue(function () {
                loadQuestions(topic);
            });

            // Update active tab styling
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.topic === topic) {
                    btn.classList.add('active');
                }
            });
        }

        // Function to load questions for the current topic
        function loadQuestions(topic) {
            questions = allQuestions.filter(q => q.topic === topic);
            displayQuestion();
        }

        // Function to display the current question
        function displayQuestion() {
            if (questions.length === 0) {
                questionText.textContent = "No questions available for this topic.";
                answerChoicesDiv.innerHTML = '';
                nextButton.classList.add('hidden');
                scoreDisplay.textContent = 'Score: N/A';
                progressCounter.textContent = '0 / 0';
                progressBar.style.width = '0%';
                explanationTextDiv.style.display = 'none'; // Hide explanation
                nextButton.classList.remove('enabled'); // Disable next button
                nextButton.textContent = 'Next'; // Reset button text
                return;
            }

            // Hide results if they were showing
            quizResults.classList.add('hidden');
            quizUI.classList.remove('hidden');

            const currentQ = questions[currentQuestionIndex];
            // Use innerHTML for question text to allow MathJax to render LaTeX
            questionText.innerHTML = currentQ.question;
            answerChoicesDiv.innerHTML = ''; // Clear previous choices
            explanationTextDiv.style.display = 'none'; // Hide explanation for new question
            nextButton.classList.remove('enabled'); // Disable next button initially
            nextButton.textContent = 'Next'; // Reset button text

            currentQ.choices.forEach((choice, index) => {
                const div = document.createElement('div');
                div.classList.add('answer-choice');

                const input = document.createElement('input');
                input.type = 'radio';
                input.id = `choice-${index}`;
                input.name = 'answer';
                input.value = index;
                input.classList.add('w-5', 'h-5');
                // Add event listener to each radio button
                input.addEventListener('change', handleAnswerSelection);


                const label = document.createElement('label');
                label.htmlFor = `choice-${index}`;
                // Use innerHTML for choices to allow MathJax to render LaTeX
                label.innerHTML = choice;
                label.classList.add('text-lg', 'text-gray-800');

                div.appendChild(input);
                div.appendChild(label);
                answerChoicesDiv.appendChild(div);
            });

            answerSelectedForCurrentQuestion = false; // Reset flag for the new question
            updateScoreAndProgress();
            // Ensure MathJax processes the newly added question and choices
            MathJax.Hub.Queue(["Typeset", MathJax.Hub, "question-area"]);
        }

        // New function to handle answer selection
        function handleAnswerSelection(event) {
            // Only proceed if an answer hasn't been selected for the current question
            if (answerSelectedForCurrentQuestion) {
                return;
            }

            answerSelectedForCurrentQuestion = true; // Set flag
            const selectedChoice = event.target;
            const selectedAnswerIndex = parseInt(selectedChoice.value);
            const currentQ = questions[currentQuestionIndex];

            // Disable all radio buttons after selection
            document.querySelectorAll('input[name="answer"]').forEach(radio => {
                radio.disabled = true;
            });

            // Get all labels for styling
            const allLabels = document.querySelectorAll('.answer-choice label');

            // Apply styling based on correctness
            allLabels.forEach((label, index) => {
                if (index === currentQ.correctAnswerIndex) {
                    // This is the correct answer
                    label.classList.add('correct');
                    // If the user selected the correct answer
                    if (index === selectedAnswerIndex) {
                        score++; // Increment score only when correct answer is selected
                        label.classList.add('selected-correct');
                    }
                } else if (index === selectedAnswerIndex) {
                    // This is the user's incorrect answer
                    label.classList.add('incorrect', 'selected-incorrect');
                }
            });

            // Display explanation
            explanationTextDiv.innerHTML = currentQ.explanation; // Use innerHTML for explanation
            explanationTextDiv.style.display = 'block'; // Show explanation

            // Enable the next button
            nextButton.classList.add('enabled');
            updateScoreAndProgress(); // Update score display immediately after checking
            // Ensure MathJax processes the newly added explanation
            MathJax.Hub.Queue(["Typeset", MathJax.Hub, "explanation-text"]);
        }


        // Function to update score and progress display
        function updateScoreAndProgress() {
            scoreDisplay.textContent = `Score: ${score}`;
            progressCounter.textContent = `${currentQuestionIndex + 1} / ${questions.length}`; // +1 for user-friendly count
            updateProgressBar();
        }

        // Function to update the progress bar
        function updateProgressBar() {
            if (questions.length === 0) {
                progressBar.style.width = '0%';
                return;
            }
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Function to move to the next question or finish the quiz
        function nextQuestion() {
            // Ensure an answer was selected and processed for the current question
            if (!answerSelectedForCurrentQuestion) {
                // This scenario should ideally not happen if the button is disabled correctly
                // but kept as a safeguard.
                return;
            }

            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                displayQuestion();
            } else {
                showResults();
            }
        }

        // Function to show quiz results
        function showResults() {
            quizUI.classList.add('hidden');
            quizResults.classList.remove('hidden');
            finalScoreDisplay.textContent = `You scored ${score} out of ${questions.length}.`;
            updateProgressBar(); // Ensure progress bar is full at the end
        }

        // Function to restart the quiz for the current topic
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            answerSelectedForCurrentQuestion = false;
            quizResults.classList.add('hidden');
            quizUI.classList.remove('hidden');
            displayQuestion();
        }

        // Event listeners
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', restartQuiz);

        // Initialize quiz on page load
        document.addEventListener('DOMContentLoaded', () => {
            setupTabs();
            // The first topic will be loaded by setupTabs() via MathJax.Hub.Queue
        });

    </script>
</body>
</html>
